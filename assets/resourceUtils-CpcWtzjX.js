const st={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},y=console,T={};Object.keys(st).forEach(e=>{T[e]=y[e]});const U="Datadog Browser SDK:",m={debug:T.debug.bind(y,U),log:T.log.bind(y,U),info:T.info.bind(y,U),warn:T.warn.bind(y,U),error:T.error.bind(y,U)},we="https://docs.datadoghq.com",nr=`${we}/real_user_monitoring/browser/troubleshooting`,ot="More details:";function it(e,t){return(...n)=>{try{return e(...n)}catch(r){m.error(t,r)}}}function rr(e){return e!==0&&Math.random()*100<=e}function ct(e,t){return+e.toFixed(t)}function at(e){return Le(e)&&e>=0&&e<=100}function Le(e){return typeof e=="number"}function sr(e){return{...e}}function $e(e,t){return Object.keys(e).some(n=>e[n]===t)}function xe(e){return Object.keys(e).length===0}function or(e,t){const n={};for(const r of Object.keys(e))n[r]=t(e[r]);return n}function $(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get(){return this},configurable:!0});let e=_dd_temp_;return delete Object.prototype._dd_temp_,typeof e!="object"&&(typeof self=="object"?e=self:typeof window=="object"?e=window:e={}),e}const V=$(),ut="WorkerGlobalScope"in V;function A(e,t){const n=$();let r;return n.Zone&&typeof n.Zone.__symbol__=="function"&&(r=e[n.Zone.__symbol__(t)]),r||(r=e[t]),r}let W,Ce=!1;function ir(e){W=e}function cr(e){Ce=e}function ar(e,t,n){const r=n.value;n.value=function(...s){return(W?R(r):r).apply(this,s)}}function R(e){return function(){return Ue(e,this,arguments)}}function Ue(e,t,n){try{return e.apply(t,n)}catch(r){lt(r)}}function lt(e){if(be(e),W)try{W(e)}catch(t){be(t)}}function be(...e){Ce&&m.error("[MONITOR]",...e)}function Pe(e,t){return A($(),"setTimeout")(R(e),t)}function dt(e){A($(),"clearTimeout")(e)}function ft(e,t){return A($(),"setInterval")(R(e),t)}function pt(e){A($(),"clearInterval")(e)}function ye(e){var t;const n=(t=V.queueMicrotask)===null||t===void 0?void 0:t.bind(V);typeof n=="function"?n(R(e)):Promise.resolve().then(R(e))}class I{constructor(t){this.onFirstSubscribe=t,this.observers=[]}subscribe(t){return this.addObserver(t),{unsubscribe:()=>this.removeObserver(t)}}notify(t){this.observers.forEach(n=>n(t))}addObserver(t){this.observers.push(t),this.observers.length===1&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0)}removeObserver(t){this.observers=this.observers.filter(n=>t!==n),!this.observers.length&&this.onLastUnsubscribe&&this.onLastUnsubscribe()}}function ur(...e){return new I(t=>{const n=e.map(r=>r.subscribe(s=>t.notify(s)));return()=>n.forEach(r=>r.unsubscribe())})}class lr extends I{constructor(t){super(),this.maxBufferSize=t,this.buffer=[]}notify(t){this.buffer.push(t),this.buffer.length>this.maxBufferSize&&this.buffer.shift(),super.notify(t)}subscribe(t){let n=!1;const r={unsubscribe:()=>{n=!0,this.removeObserver(t)}};return ye(()=>{for(const s of this.buffer){if(n)return;t(s)}n||this.addObserver(t)}),r}unbuffer(){ye(()=>{this.maxBufferSize=this.buffer.length=0})}}const J=1e3,de=60*J,Me=60*de,mt=24*Me,De=365*mt;function dr(e){return{relative:e,timeStamp:Et(e)}}function fr(e){return{relative:gt(e),timeStamp:e}}function Et(e){const t=h()-performance.now();return t>D()?Math.round(fe(t,e)):Ot(e)}function pr(){return Math.round(h()-fe(D(),performance.now()))}function mr(e){return Le(e)?ct(e*1e6,0):e}function h(){return new Date().getTime()}function Y(){return h()}function St(){return performance.now()}function Er(){return{relative:St(),timeStamp:Y()}}function Sr(){return{relative:0,timeStamp:D()}}function _t(e,t){return t-e}function fe(e,t){return e+t}function gt(e){return e-D()}function Ot(e){return Math.round(fe(D(),e))}function _r(e){return e<De}let Q;function D(){var e,t;return Q===void 0&&(Q=(t=(e=performance.timing)===null||e===void 0?void 0:e.navigationStart)!==null&&t!==void 0?t:performance.timeOrigin),Q}function ht(e,t,n){const r=n&&n.leading!==void 0?n.leading:!0,s=n&&n.trailing!==void 0?n.trailing:!0;let o=!1,i,l;return{throttled:(...a)=>{if(o){i=a;return}r?e(...a):i=a,o=!0,l=Pe(()=>{s&&i&&e(...i),o=!1,i=void 0},t)},cancel:()=>{dt(l),o=!1,i=void 0}}}function bt(){}function S(e){return e?(parseInt(e,10)^Math.random()*16>>parseInt(e,10)/4).toString(16):`10000000-1000-4000-8000-${1e11}`.replace(/[018]/g,S)}const N=/([\w-]+)\s*=\s*([^;]+)/g;function yt(e,t){for(N.lastIndex=0;;){const n=N.exec(e);if(n){if(n[1]===t)return n[2]}else break}}function Tt(e){const t=new Map;for(N.lastIndex=0;;){const n=N.exec(e);if(n){const r=n[1],s=n[2];t.has(r)?t.get(r).push(s):t.set(r,[s])}else break}return t}function kt(e){const t=new Map;for(N.lastIndex=0;;){const n=N.exec(e);if(n)t.set(n[1],n[2]);else break}return t}function gr(e,t,n=""){const r=e.charCodeAt(t-1),o=r>=55296&&r<=56319?t+1:t;return e.length<=o?e:`${e.slice(0,o)}${n}`}function vt(){return je()===0}function Or(){return je()===1}let j;function je(){return j??(j=It())}function It(e=window){var t;const n=e.navigator.userAgent;return e.chrome||/HeadlessChrome/.test(n)?0:((t=e.navigator.vendor)===null||t===void 0?void 0:t.indexOf("Apple"))===0||/safari/i.test(n)&&!/chrome|android/i.test(n)?1:2}function At(e){return X(e,location.href).href}function hr(e){try{return!!X(e)}catch{return!1}}function br(e){const t=X(e).pathname;return t[0]==="/"?t:`/${t}`}function X(e,t){const{URL:n}=Rt();try{return t!==void 0?new n(e,t):new n(e)}catch(r){throw new Error(`Failed to construct URL: ${String(r)}`)}}let ee;function Rt(){if(!ee){let e,t;try{e=document.createElement("iframe"),e.style.display="none",document.body.appendChild(e),t=e.contentWindow}catch{t=V}ee={URL:t.URL},e==null||e.remove()}return ee}function q(e,t,n=0,r){const s=new Date;s.setTime(s.getTime()+n);const o=`expires=${s.toUTCString()}`,i=r&&r.crossSite?"none":"strict",l=r&&r.domain?`;domain=${r.domain}`:"",a=r&&r.secure?";secure":"",c=r&&r.partitioned?";partitioned":"";document.cookie=`${e}=${t};${o};path=/;samesite=${i}${l}${a}${c}`}function pe(e){return yt(document.cookie,e)}function Nt(e){return Tt(document.cookie).get(e)||[]}let te;function K(e){return te||(te=kt(document.cookie)),te.get(e)}function Ke(e,t){q(e,"",0,t)}function wt(e){if(document.cookie===void 0||document.cookie===null)return!1;try{const t=`dd_cookie_test_${S()}`,n="test";q(t,n,de,e);const r=pe(t)===n;return Ke(t,e),r}catch(t){return m.error(t),!1}}let ne;function Lt(e=location.hostname,t=document.referrer){if(ne===void 0){const n=$t(e,t);if(n){const r=`dd_site_test_${S()}`,s="test",o=n.split(".");let i=o.pop();for(;o.length&&!pe(r);)i=`${o.pop()}.${i}`,q(r,s,J,{domain:i});Ke(r,{domain:i}),ne=i}}return ne}function $t(e,t){try{return e||X(t).hostname}catch{}}const x="_dd_s";function yr(e,t){for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(t(r,n,e))return r}}function Tr(e){return Object.values(e)}function xt(e){return Object.entries(e)}const Ge=4*Me,Fe=15*de,Ct=De,Ut="0",M={COOKIE:"cookie",LOCAL_STORAGE:"local-storage"},Be=/^([a-zA-Z]+)=([a-z0-9-]+)$/,me="&";function Pt(e){return!!e&&(e.indexOf(me)!==-1||Be.test(e))}const Mt="1";function _(e,t){const n={isExpired:Mt};return t.trackAnonymousUser&&(e!=null&&e.anonymousId)&&(n.anonymousId=e==null?void 0:e.anonymousId),n}function H(e){return xe(e)}function He(e){return!H(e)}function P(e){return e.isExpired!==void 0||!Dt(e)}function Dt(e){return(e.created===void 0||h()-Number(e.created)<Ge)&&(e.expire===void 0||h()<Number(e.expire))}function ze(e){e.expire=String(h()+Fe)}function ce(e){return xt(e).map(([t,n])=>t==="anonymousId"?`aid=${n}`:`${t}=${n}`).join(me)}function Ee(e){const t={};return Pt(e)&&e.split(me).forEach(n=>{const r=Be.exec(n);if(r!==null){const[,s,o]=r;s==="aid"?t.anonymousId=o:t[s]=o}}),t}const jt="_dd",Kt="_dd_r",Gt="_dd_l",Ft="rum",Bt="logs";function Ht(e){if(!K(x)){const n=K(jt),r=K(Kt),s=K(Gt),o={};n&&(o.id=n),s&&/^[01]$/.test(s)&&(o[Bt]=s),r&&/^[012]$/.test(r)&&(o[Ft]=r),He(o)&&(ze(o),e.persistSession(o))}}const zt=0;function Te(e){const t=Jt(e);return t&&wt(t)?{type:M.COOKIE,cookieOptions:t}:void 0}function Vt(e,t){const n={isLockEnabled:vt(),persistSession:r=>ke(t,e,r,Fe),retrieveSession:()=>Wt(t,e),expireSession:r=>ke(t,e,_(r,e),Ge)};return Ht(n),n}function ke(e,t,n,r){let s=ce(n);t.betaEncodeCookieOptions&&(s=ce({...n,...xe(n)?{}:{c:Ve(e)}})),q(x,s,t.trackAnonymousUser?Ct:r,e)}function Wt(e,t){if(t.betaEncodeCookieOptions)return Yt(e);const n=pe(x);return Ee(n)}function Jt(e){const t={};if(t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains){const n=Lt();if(!n)return;t.domain=n}return t}function Ve(e){const t=e.domain?e.domain.split(".").length-1:0;let n=0;return n|=zt<<5,n|=t<<1,n|=e.crossSite?1:0,n.toString(16)}function Yt(e){const t=Nt(x),n=Ve(e);let r;for(const s of t.reverse())if(r=Ee(s),r.c===n)break;return r==null||delete r.c,r??{}}const Xt="_dd_test_";function ve(){try{const e=S(),t=`${Xt}${e}`;localStorage.setItem(t,e);const n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:M.LOCAL_STORAGE}:void 0}catch{return}}function qt(e){return{isLockEnabled:!1,persistSession:We,retrieveSession:Zt,expireSession:t=>Qt(t,e)}}function We(e){localStorage.setItem(x,ce(e))}function Zt(){const e=localStorage.getItem(x);return Ee(e)}function Qt(e,t){We(_(e,t))}const en=10,tn=100,nn=J,Je="--",Ye=[];let z;function g(e,t,n=0){var r;const{isLockEnabled:s,persistSession:o,expireSession:i}=t,l=p=>o({...p,lock:c}),a=()=>{const{lock:p,...C}=t.retrieveSession();return{session:C,lock:p&&!sn(p)?p:void 0}};if(z||(z=e),e!==z){Ye.push(e);return}if(s&&n>=tn){Ie(t);return}let c,f=a();if(s){if(f.lock){G(e,t,n);return}if(c=rn(),l(f.session),f=a(),f.lock!==c){G(e,t,n);return}}let d=e.process(f.session);if(s&&(f=a(),f.lock!==c)){G(e,t,n);return}if(d&&(P(d)?i(d):(ze(d),s?l(d):o(d))),s&&!(d&&P(d))){if(f=a(),f.lock!==c){G(e,t,n);return}o(f.session),d=f.session}(r=e.after)===null||r===void 0||r.call(e,d||f.session),Ie(t)}function G(e,t,n){Pe(()=>{g(e,t,n+1)},en)}function Ie(e){z=void 0;const t=Ye.shift();t&&g(t,e)}function rn(){return S()+Je+Y()}function sn(e){const[,t]=e.split(Je);return!t||_t(Number(t),Y())>nn}const Ae=J;function on(e){switch(e.sessionPersistence){case M.COOKIE:return Te(e);case M.LOCAL_STORAGE:return ve();case void 0:{let t=Te(e);return!t&&e.allowFallbackToLocalStorage&&(t=ve()),t}default:m.error(`Invalid session persistence '${String(e.sessionPersistence)}'`)}}function cn(e,t){return e.type===M.COOKIE?Vt(t,e.cookieOptions):qt(t)}function kr(e,t,n,r,s=cn(e,t)){const o=new I,i=new I,l=new I,a=ft(C,Ae);let c;he();const{throttled:f,cancel:d}=ht(()=>{g({process:u=>{if(H(u))return;const E=b(u);return Qe(E),E},after:u=>{He(u)&&!Z()&&nt(u),c=u}},s)},Ae);function p(){g({process:u=>Z()?b(u):void 0},s)}function C(){const u=s.retrieveSession();P(u)?g({process:E=>P(E)?_(E,t):void 0,after:b},s):b(u)}function b(u){return P(u)&&(u=_(u,t)),Z()&&(et(u)?tt():(l.notify({previousState:c,newState:u}),c=u)),u}function he(){g({process:u=>{if(H(u))return u.anonymousId=S(),_(u,t)},after:u=>{c=u}},s)}function Qe(u){if(H(u))return!1;const E=r(u[n]);u[n]=E,delete u.isExpired,E!==Ut&&!u.id&&(u.id=S(),u.created=String(h()))}function Z(){return(c==null?void 0:c[n])!==void 0}function et(u){return c.id!==u.id||c[n]!==u[n]}function tt(){c=_(c,t),i.notify()}function nt(u){c=u,o.notify()}function rt(u){g({process:E=>({...E,...u}),after:b},s)}return{expandOrRenewSession:f,expandSession:p,getSession:()=>c,renewObservable:o,expireObservable:i,sessionStateUpdateObservable:l,restartSession:he,expire:u=>{d(),u===!1&&c&&delete c.anonymousId,s.expireSession(c),b(_(c,t))},stop:()=>{pt(a)},updateSessionState:rt}}const ae={GRANTED:"granted",NOT_GRANTED:"not-granted"};function vr(e){const t=new I;return{tryToInit(n){e||(e=n)},update(n){e=n,t.notify()},isGranted(){return e===ae.GRANTED},observable:t}}function an(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function Ir(e){const t=an(e);return t==="string"||t==="function"||e instanceof RegExp}function un(e,t,n=!1){return e.some(r=>{try{if(typeof r=="function")return r(t);if(r instanceof RegExp)return r.test(t);if(typeof r=="string")return n?t.startsWith(r):r===t}catch(s){m.error(s)}return!1})}const ln=["chrome-extension://","moz-extension://"];function Re(e){return ln.some(t=>e.includes(t))}function dn(e,t=""){if(Re(e))return!1;const r=t.split(`
`).filter(s=>{const o=s.trim();return o.length&&/^at\s+|@/.test(o)})[1]||"";return Re(r)}const fn="Running the Browser SDK in a Web extension content script is forbidden unless the `allowedTrackingOrigins` option is provided.",pn="SDK initialized on a non-allowed domain.";function mn(e,t,n=typeof location<"u"?location.origin:""){const r=e.allowedTrackingOrigins;if(!r)return dn(n,t)?(m.error(fn),!1):!0;const s=un(r,n);return s||m.error(pn),s}const Ar="datad0g.com",En="dd0g-gov.com",k="datadoghq.com",Rr="datadoghq.eu",Nr="ddog-gov.com",Sn="pci.browser-intake-datadoghq.com",_n=["ddsource","dd-api-key","dd-request-id"];function O(e,t,n){const r=gn(e,t);return{build(s,o){const i=hn(e,t,s,o,n);return r(i)},trackType:t}}function gn(e,t){const n=`/api/v2/${t}`,r=e.proxy;if(typeof r=="string"){const o=At(r);return i=>`${o}?ddforward=${encodeURIComponent(`${n}?${i}`)}`}if(typeof r=="function")return o=>r({path:n,parameters:o});const s=On(t,e);return o=>`https://${s}${n}?${o}`}function On(e,t){const{site:n=k,internalAnalyticsSubdomain:r}=t;if(e==="logs"&&t.usePciIntake&&n===k)return Sn;if(r&&n===k)return`${r}.${k}`;if(n===En)return`http-intake.logs.${n}`;const s=n.split("."),o=s.pop();return`browser-intake-${s.join("-")}.${o}`}function hn({clientToken:e,internalAnalyticsSubdomain:t,source:n="browser"},r,s,{retry:o,encoding:i},l=[]){const a=[`ddsource=${n}`,`dd-api-key=${e}`,`dd-evp-origin-version=${encodeURIComponent("6.24.1")}`,"dd-evp-origin=browser",`dd-request-id=${S()}`].concat(l);return i&&a.push(`dd-evp-encoding=${i}`),r==="rum"&&(a.push(`batch_time=${Y()}`,`_dd.api=${s}`),o&&a.push(`_dd.retry_count=${o.count}`,`_dd.retry_after=${o.lastFailureStatus}`)),t&&a.reverse(),a.join("&")}function bn(e){const t=e.site||k,n=yn(e.source),r=Tn({...e,site:t,source:n});return{replica:kn({...e,site:t,source:n}),site:t,source:n,...r}}function yn(e){return e==="flutter"||e==="unity"?e:"browser"}function Tn(e){return{logsEndpointBuilder:O(e,"logs"),rumEndpointBuilder:O(e,"rum"),profilingEndpointBuilder:O(e,"profile"),sessionReplayEndpointBuilder:O(e,"replay"),exposuresEndpointBuilder:O(e,"exposures")}}function kn(e){if(!e.replica)return;const t={...e,site:k,clientToken:e.replica.clientToken};return{logsEndpointBuilder:O(t,"logs"),rumEndpointBuilder:O(t,"rum",[`application.id=${e.replica.applicationId}`])}}function wr(e){return _n.every(t=>e.includes(t))}const Lr={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input",MASK_UNLESS_ALLOWLISTED:"mask-unless-allowlisted"},$r={ALL:"all",SAMPLED:"sampled"};function re(e,t){return e!=null&&typeof e!="string"?(m.error(`${t} must be defined as a string`),!1):!0}function vn(e){return e&&typeof e=="string"&&!/(datadog|ddog|datad0g|dd0g)/.test(e)?(m.error(`Site should be a valid Datadog site. ${ot} ${we}/getting_started/site/.`),!1):!0}function F(e,t){return e!==void 0&&!at(e)?(m.error(`${t} Sample Rate should be a number between 0 and 100`),!1):!0}function xr(e,t){var n,r,s,o,i,l,a,c,f,d;if(!e||!e.clientToken){m.error("Client Token is not configured, we will not send any data.");return}if(e.allowedTrackingOrigins!==void 0&&!Array.isArray(e.allowedTrackingOrigins)){m.error("Allowed Tracking Origins must be an array");return}if(!(!vn(e.site)||!F(e.sessionSampleRate,"Session")||!F(e.telemetrySampleRate,"Telemetry")||!F(e.telemetryConfigurationSampleRate,"Telemetry Configuration")||!F(e.telemetryUsageSampleRate,"Telemetry Usage")||!re(e.version,"Version")||!re(e.env,"Env")||!re(e.service,"Service")||!mn(e,t??""))){if(e.trackingConsent!==void 0&&!$e(ae,e.trackingConsent)){m.error('Tracking Consent should be either "granted" or "not-granted"');return}return{beforeSend:e.beforeSend&&it(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:ut?void 0:on(e),sessionSampleRate:(n=e.sessionSampleRate)!==null&&n!==void 0?n:100,telemetrySampleRate:(r=e.telemetrySampleRate)!==null&&r!==void 0?r:20,telemetryConfigurationSampleRate:(s=e.telemetryConfigurationSampleRate)!==null&&s!==void 0?s:5,telemetryUsageSampleRate:(o=e.telemetryUsageSampleRate)!==null&&o!==void 0?o:5,service:(i=e.service)!==null&&i!==void 0?i:void 0,env:(l=e.env)!==null&&l!==void 0?l:void 0,version:(a=e.version)!==null&&a!==void 0?a:void 0,datacenter:(c=e.datacenter)!==null&&c!==void 0?c:void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:(f=e.trackingConsent)!==null&&f!==void 0?f:ae.GRANTED,trackAnonymousUser:(d=e.trackAnonymousUser)!==null&&d!==void 0?d:!0,storeContextsAcrossPages:!!e.storeContextsAcrossPages,betaEncodeCookieOptions:!!e.betaEncodeCookieOptions,variant:e.variant,sdkVersion:e.sdkVersion,...bn(e)}}}function Cr(e){return{session_sample_rate:e.sessionSampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:e.telemetryUsageSampleRate,use_before_send:!!e.beforeSend,use_partitioned_cross_site_session_cookie:e.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:!!e.proxy,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,track_anonymous_user:e.trackAnonymousUser,session_persistence:e.sessionPersistence,allow_fallback_to_local_storage:!!e.allowFallbackToLocalStorage,store_contexts_across_pages:!!e.storeContextsAcrossPages,allow_untrusted_events:!!e.allowUntrustedEvents,tracking_consent:e.trackingConsent,use_allowed_tracking_origins:Array.isArray(e.allowedTrackingOrigins),beta_encode_cookie_options:e.betaEncodeCookieOptions,source:e.source,sdk_version:e.sdkVersion,variant:e.variant}}var ue;(function(e){e.TRACK_INTAKE_REQUESTS="track_intake_requests",e.USE_TREE_WALKER_FOR_ACTION_NAME="use_tree_walker_for_action_name",e.FEATURE_OPERATION_VITAL="feature_operation_vital",e.SHORT_SESSION_INVESTIGATION="short_session_investigation",e.AVOID_FETCH_KEEPALIVE="avoid_fetch_keepalive"})(ue||(ue={}));const Se=new Set;function Ur(e){Array.isArray(e)&&In(e.filter(t=>$e(ue,t)))}function In(e){e.forEach(t=>{Se.add(t)})}function Pr(e){return Se.has(e)}function Mr(){return Se}const w="?";function _e(e){var t,n;const r=[];let s=se(e,"stack");const o=String(e);if(s&&s.startsWith(o)&&(s=s.slice(o.length)),s&&s.split(`
`).forEach(i=>{const l=Nn(i)||Ln(i)||xn(i)||Pn(i);l&&(!l.func&&l.line&&(l.func=w),r.push(l))}),r.length>0&&jn()&&e instanceof Error){const i=[];let l=e;for(;(l=Object.getPrototypeOf(l))&&qe(l);){const a=((t=l.constructor)===null||t===void 0?void 0:t.name)||w;i.push(a)}for(let a=i.length-1;a>=0&&((n=r[0])===null||n===void 0?void 0:n.func)===i[a];a--)r.shift()}return{message:se(e,"message"),name:se(e,"name"),stack:r}}const Xe="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",L="(?::(\\d+))",An=new RegExp(`^\\s*at (.*?) ?\\(${Xe}${L}?${L}?\\)?\\s*$`,"i"),Rn=new RegExp(`\\((\\S*)${L}${L}\\)`);function Nn(e){const t=An.exec(e);if(!t)return;const n=t[2]&&t[2].indexOf("native")===0,r=t[2]&&t[2].indexOf("eval")===0,s=Rn.exec(t[2]);return r&&s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3]),{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||w,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}const wn=new RegExp(`^\\s*at ?${Xe}${L}?${L}??\\s*$`,"i");function Ln(e){const t=wn.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:w,line:t[2]?+t[2]:void 0,url:t[1]}}const $n=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function xn(e){const t=$n.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||w,line:+t[3],url:t[2]}}const Cn=/^\s*(.*?)(?:\((.*?)\))?(?:(?:(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle|\[wasm code\])(?::(\d+))?(?::(\d+))?)|@)\s*$/i,Un=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Pn(e){const t=Cn.exec(e);if(!t)return;const n=t[3]&&t[3].indexOf(" > eval")>-1,r=Un.exec(t[3]);return n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||w,line:t[4]?+t[4]:void 0,url:t[3]}}function se(e,t){if(typeof e!="object"||!e||!(t in e))return;const n=e[t];return typeof n=="string"?n:void 0}function Dr(e,t,n,r){if(t===void 0)return;const{name:s,message:o}=Dn(e);return{name:s,message:o,stack:[{url:t,column:r,line:n}]}}const Mn=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function Dn(e){let t,n;return{}.toString.call(e)==="[object String]"&&([,t,n]=Mn.exec(e)),{name:t,message:n}}function qe(e){return String(e.constructor).startsWith("class ")}let B;function jn(){if(B!==void 0)return B;class e extends Error{constructor(){super(),this.name="Error"}}const[t,n]=[e,Error].map(r=>new r);return B=qe(Object.getPrototypeOf(t))&&n.stack!==t.stack,B}function jr(e){const n=new Error(e);n.name="HandlingStack";let r;return Ue(()=>{const s=_e(n);s.stack=s.stack.slice(2),r=ge(s)}),r}function ge(e){let t=Kn(e);return e.stack.forEach(n=>{const r=n.func==="?"?"<anonymous>":n.func,s=n.args&&n.args.length>0?`(${n.args.join(", ")})`:"",o=n.line?`:${n.line}`:"",i=n.line&&n.column?`:${n.column}`:"";t+=`
  at ${r}${s} @ ${n.url}${o}${i}`}),t}function Kn(e){return`${e.name||"Error"}: ${e.message}`}const Ze=1024,Kr=1024*Ze,Gn=/[^\u0000-\u007F]/;function Gr(e){return Gn.test(e)?window.TextEncoder!==void 0?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function Fr(e){if(e.length===1)return e[0];const t=e.reduce((s,o)=>s+o.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Fn(e,t,n){if(typeof e!="object"||e===null)return JSON.stringify(e);const r=v(Object.prototype),s=v(Array.prototype),o=v(Object.getPrototypeOf(e)),i=v(e);try{return JSON.stringify(e,t,n)}catch{return"<error: unable to serialize object>"}finally{r(),s(),o(),i()}}function v(e){const t=e,n=t.toJSON;return n?(delete t.toJSON,()=>{t.toJSON=n}):bt}const Bn=220*Ze,Hn="$",zn=3;function Vn(e,t=Bn){const n=v(Object.prototype),r=v(Array.prototype),s=[],o=new WeakMap,i=oe(e,Hn,void 0,s,o),l=JSON.stringify(i);let a=l?l.length:0;if(a>t){ie(t,"discarded",e);return}for(;s.length>0&&a<t;){const c=s.shift();let f=0;if(Array.isArray(c.source))for(let d=0;d<c.source.length;d++){const p=oe(c.source[d],c.path,d,s,o);if(p!==void 0?a+=JSON.stringify(p).length:a+=4,a+=f,f=1,a>t){ie(t,"truncated",e);break}c.target[d]=p}else for(const d in c.source)if(Object.prototype.hasOwnProperty.call(c.source,d)){const p=oe(c.source[d],c.path,d,s,o);if(p!==void 0&&(a+=JSON.stringify(p).length+f+d.length+zn,f=1),a>t){ie(t,"truncated",e);break}c.target[d]=p}}return n(),r(),i}function oe(e,t,n,r,s){const o=Yn(e);if(!o||typeof o!="object")return Wn(o);const i=le(o);if(i!=="[Object]"&&i!=="[Array]"&&i!=="[Error]")return i;const l=e;if(s.has(l))return`[Reference seen at ${s.get(l)}]`;const a=n!==void 0?`${t}.${n}`:t,c=Array.isArray(o)?[]:{};return s.set(l,a),r.push({source:o,target:c,path:a}),c}function Wn(e){return typeof e=="bigint"?`[BigInt] ${e.toString()}`:typeof e=="function"?`[Function] ${e.name||"unknown"}`:typeof e=="symbol"?`[Symbol] ${e.description||e.toString()}`:e}function le(e){try{if(e instanceof Event)return Jn(e);if(e instanceof RegExp)return`[RegExp] ${e.toString()}`;const n=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(n&&n[1])return`[${n[1]}]`}catch{}return"[Unserializable]"}function Jn(e){return{type:e.type,isTrusted:e.isTrusted,currentTarget:e.currentTarget?le(e.currentTarget):null,target:e.target?le(e.target):null}}function Yn(e){const t=e;if(t&&typeof t.toJSON=="function")try{return t.toJSON()}catch{}return e}function ie(e,t,n){m.warn(`The data provided has been ${t} as it is over the limit of ${e} characters:`,n)}const Xn="No stack, consider using an instance of Error";function Br({stackTrace:e,originalError:t,handlingStack:n,componentStack:r,startClocks:s,nonErrorPrefix:o,useFallbackStack:i=!0,source:l,handling:a}){const c=Oe(t);return!e&&c&&(e=_e(t)),{startClocks:s,source:l,handling:a,handlingStack:n,componentStack:r,originalError:t,type:e?e.name:void 0,message:qn(e,c,o,t),stack:e?ge(e):i?Xn:void 0,causes:c?er(t,l):void 0,fingerprint:Zn(t),context:Qn(t)}}function qn(e,t,n,r){return e!=null&&e.message&&(e!=null&&e.name)?e.message:t?"Empty message":`${n} ${Fn(Vn(r))}`}function Zn(e){return Oe(e)&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function Qn(e){if(e!==null&&typeof e=="object"&&"dd_context"in e)return e.dd_context}function Hr(e){var t;return(t=/@ (.+)/.exec(e))===null||t===void 0?void 0:t[1]}function Oe(e){return e instanceof Error||Object.prototype.toString.call(e)==="[object Error]"}function er(e,t){let n=e;const r=[];for(;Oe(n==null?void 0:n.cause)&&r.length<10;){const s=_e(n.cause);r.push({message:n.cause.message,source:t,type:s==null?void 0:s.name,stack:s&&ge(s)}),n=n.cause}return r.length?r:void 0}const zr={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function Vr(e,t,n,r,s){return tr(e,t,[n],r,s)}function tr(e,t,n,r,{once:s,capture:o,passive:i}={}){const l=R(p=>{!p.isTrusted&&!p.__ddIsTrusted&&!e.allowUntrustedEvents||(s&&d(),r(p))}),a=i?{capture:o,passive:i}:o,c=window.EventTarget&&t instanceof EventTarget?window.EventTarget.prototype:t,f=A(c,"addEventListener");n.forEach(p=>f.call(t,p,l,a));function d(){const p=A(c,"removeEventListener");n.forEach(C=>p.call(t,C,l,a))}return{stop:d}}const Ne={DOCUMENT:"document",XHR:"xhr",BEACON:"beacon",FETCH:"fetch",CSS:"css",JS:"js",IMAGE:"image",FONT:"font",MEDIA:"media",OTHER:"other"},Wr={FETCH:Ne.FETCH,XHR:Ne.XHR};export{Ne as $,On as A,Y as B,Ur as C,Lr as D,ue as E,lt as F,jr as G,Ue as H,vr as I,fr as J,I as K,A as L,gr as M,Ze as N,J as O,St as P,de as Q,Wr as R,Ge as S,$r as T,gt as U,st as V,Br as W,zr as X,fe as Y,yt as Z,dr as _,Vr as a,tr as a0,yr as a1,ct as a2,ht as a3,Sr as a4,ft as a5,_r as a6,pt as a7,xe as a8,K as a9,nr as aA,lr as aB,be as aC,Nr as aD,Mr as aE,Xn as aF,ir as aG,kr as aH,Ut as aI,M as aJ,Wt as aK,Zt as aL,x as aM,Lt as aN,Ee as aO,At as aP,Kn as aQ,hr as aR,br as aS,X as aT,Or as aU,pr as aa,Ar as ab,Rr as ac,k as ad,Fr as ae,we as af,$ as ag,ar as ah,ut as ai,Tr as aj,Hr as ak,wr as al,ge as am,_e as an,T as ao,y as ap,V as aq,Oe as ar,Dr as as,cr as at,it as au,ur as av,ot as aw,Kr as ax,Gr as ay,Fn as az,Er as b,dt as c,h as d,_t as e,Vn as f,S as g,Ir as h,Pr as i,an as j,un as k,sr as l,R as m,bt as n,xt as o,rr as p,Cr as q,m as r,Pe as s,mr as t,F as u,xr as v,$e as w,Le as x,or as y,pe as z};
//# sourceMappingURL=resourceUtils-CpcWtzjX.js.map
