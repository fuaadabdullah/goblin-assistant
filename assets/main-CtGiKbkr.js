const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/startRecording-BA5Wr5EK.js","assets/privacyConstants-201sPjeh.js","assets/resourceUtils-CpcWtzjX.js","assets/bufferedData-Bfc_pTqn.js","assets/index-CU8wI_xk.js","assets/index-C_EAuLTD.css","assets/profiler-Dhh2qf7-.js"])))=>i.map(i=>d[i]);
import{V as gt,R as b,A as _e,i as ur,c as W,a as I,N as y,g as nt,P as Sn,T as Tn,F as An,C as Qt,b as ht,h as In,d as Cn,s as ft,e as Rn,f as lr,j as kn,k as xn,l as Nn,m as On,n as Ln,o as Mn,p as Dn,q as j,r as dr}from"./privacyConstants-201sPjeh.js";import{n as A,a as V,m as S,d as ce,s as tt,c as X,O as $,b as Y,e as M,i as fr,E as pr,f as x,t as v,g as et,p as ue,h as bt,j as Vt,k as ge,T as le,l as Mt,o as hr,q as Pn,r as C,u as Re,v as Vn,D as de,w as ke,x as be,y as mr,z as Un,A as Fn,B as G,C as zn,F as Dt,G as xe,H as Jt,I as Bn,J as Gn,K as F,L as Ne,S as Ut,M as _r,N as Hn,R as Ft,P as it,Q as st,U as gr,V as Wn,W as Kn,X as $n,Y as br,Z as Pt,_ as zt,$ as Oe,a0 as ve,a1 as qn,a2 as Nt,a3 as ye,a4 as jn,a5 as Ee,a6 as Xn,a7 as vr,a8 as we,a9 as Yn,aa as Zn,ab as Qn,ac as Jn,ad as ta,ae as ea,af as ra,ag as yr}from"./resourceUtils-CpcWtzjX.js";import{c as yt,i as at,a as Bt,b as na,d as aa,e as ia,w as Er,f as vt,g as sa,h as wr,j as Sr,k as oa,l as Tr,C as O,s as ca,m as ua,n as D,o as la,p as L,q as P,r as Ar,t as fe,A as da,u as Et,v as fa,P as Ir,S as K,x as pa,y as ha,R as Le,z as Se,B as ma,D as wt,E as _a,F as Cr,G as ga,H as ba,I as va,J as ya,K as Ea,L as wa,M as Sa,N as te,O as Ta,Q as Aa,T as Ia,U as Ca,V as Ra,W as ka,X as xa,Y as Na,Z as Rr,_ as Oa}from"./bufferedData-Bfc_pTqn.js";import{_ as kr}from"./index-CU8wI_xk.js";function Te(t,e,r){return document.readyState===e||document.readyState==="complete"?(r(),{stop:A}):V(t,window,e==="complete"?"load":"DOMContentLoaded",r,{once:!0})}function La(t,e){return new Promise(r=>{Te(t,e,r)})}function Ma(t,e){if(window.requestIdleCallback&&window.cancelIdleCallback){const r=window.requestIdleCallback(S(t),e);return()=>window.cancelIdleCallback(r)}return Pa(t)}const Da=50;function Pa(t){const e=ce(),r=tt(()=>{t({didTimeout:!1,timeRemaining:()=>Math.max(0,Da-(ce()-e))})},0);return()=>X(r)}const Va=$,Ua=30;function Fa(){const t=[];function e(n){let a;if(n.didTimeout){const i=performance.now();a=()=>Ua-(performance.now()-i)}else a=n.timeRemaining.bind(n);for(;a()>0&&t.length;)t.shift()();t.length&&r()}function r(){Ma(e,{timeout:Va})}return{push(n){t.push(n)===1&&r()},stop(){t.length=0}}}function za(){try{return new Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function Ba(){return{vitalsByName:new Map,vitalsByReference:new WeakMap}}function Ga(t,e,r){function n(s){return!e.wasInPageStateDuringPeriod("frozen",s.startClocks.relative,s.duration)}function a(s){n(s)&&t.notify(12,Me(s))}function i(s,o,c,u){if(!fr(pr.FEATURE_OPERATION_VITAL))return;const{operationKey:f,context:d,description:l}=c||{},p={name:s,type:gt.OPERATION_STEP,operationKey:f,failureReason:u,stepType:o,startClocks:Y(),context:x(d),description:l};t.notify(12,Me(p))}return{addOperationStepVital:i,addDurationVital:a,startDurationVital:(s,o={})=>xr(r,s,o),stopDurationVital:(s,o={})=>{Nr(a,r,s,o)}}}function xr({vitalsByName:t,vitalsByReference:e},r,n={}){const a={name:r,startClocks:Y(),...n},i={__dd_vital_reference:!0};return t.set(r,a),e.set(i,a),i}function Nr(t,{vitalsByName:e,vitalsByReference:r},n,a={}){const i=typeof n=="string"?e.get(n):r.get(n);i&&(t(Ha(i,i.startClocks,a,Y())),typeof n=="string"?e.delete(n):r.delete(n))}function Ha(t,e,r,n){var a;return{name:t.name,type:gt.DURATION,startClocks:e,duration:M(e.timeStamp,n.timeStamp),context:yt(t.context,r.context),description:(a=r.description)!==null&&a!==void 0?a:t.description}}function Me(t){const{startClocks:e,type:r,name:n,description:a,context:i}=t,s={id:et(),type:r,name:n,description:a,...r===gt.DURATION?{duration:v(t.duration)}:{step_type:t.stepType,operation_key:t.operationKey,failure_reason:t.failureReason}};return{rawRumEvent:{date:e.timeStamp,vital:s,type:b.VITAL,context:i},startTime:e.relative,duration:r===gt.DURATION?t.duration:void 0,domainContext:{}}}function Or(t,e,r){if(t)for(const n of t){const a=n[e];a&&a(r)}}const De=new Map;function Lr(t,e){if(e===100)return!0;if(e===0)return!1;const r=De.get(e);if(r&&t===r.sessionId)return r.decision;let n;return window.BigInt?n=Wa(BigInt(`0x${t.split("-")[4]}`),e):n=ue(e),De.set(e,{sessionId:t,decision:n}),n}function Wa(t,e){const r=BigInt("1111111111111111111"),n=BigInt("0x10000000000000000"),a=t*r%n;return Number(a)<=e/100*Number(n)}function Ka(){return Dr(64)}function Mr(){return Dr(63)}function Dr(t){const e=crypto.getRandomValues(new Uint32Array(2));return t===63&&(e[e.length-1]>>>=1),{toString(r=10){let n=e[1],a=e[0],i="";do{const s=n%r*4294967296+a;n=Math.floor(n/r),a=Math.floor(s/r),i=(s%r).toString(r)+i}while(n||a);return i}}}function ot(t){return t.toString(16).padStart(16,"0")}function $a(t){const e=t;return Vt(e)==="object"&&bt(e.match)&&Array.isArray(e.propagatorTypes)}function qa(t){t.status===0&&!t.isAborted&&(t.traceId=void 0,t.spanId=void 0,t.traceSampled=void 0)}function ja(t,e,r,n){return{clearTracingIfNeeded:qa,traceFetch:a=>Pe(t,a,e,r,n,i=>{var s;if(a.input instanceof Request&&!(!((s=a.init)===null||s===void 0)&&s.headers))a.input=new Request(a.input),Object.keys(i).forEach(o=>{a.input.headers.append(o,i[o])});else{a.init=Mt(a.init);const o=[];a.init.headers instanceof Headers?a.init.headers.forEach((c,u)=>{o.push([u,c])}):Array.isArray(a.init.headers)?a.init.headers.forEach(c=>{o.push(c)}):a.init.headers&&Object.keys(a.init.headers).forEach(c=>{o.push([c,a.init.headers[c]])}),a.init.headers=o.concat(hr(i))}}),traceXhr:(a,i)=>Pe(t,a,e,r,n,s=>{Object.keys(s).forEach(o=>{i.setRequestHeader(o,s[o])})})}}function Pe(t,e,r,n,a,i){const s=r.findTrackedSession();if(!s)return;const o=t.allowedTracingUrls.find(f=>ge([f.match],e.url,!0));if(!o)return;const c=Lr(s.id,t.traceSampleRate);(c||t.traceContextInjection===le.ALL)&&(e.traceSampled=c,e.traceId=Ka(),e.spanId=Mr(),i(Xa(e.traceId,e.spanId,e.traceSampled,s.id,o.propagatorTypes,n,a,t)))}function Xa(t,e,r,n,a,i,s,o){const c={};if(a.forEach(u=>{switch(u){case"datadog":{Object.assign(c,{"x-datadog-origin":"rum","x-datadog-parent-id":e.toString(),"x-datadog-sampling-priority":r?"1":"0","x-datadog-trace-id":t.toString()});break}case"tracecontext":{Object.assign(c,{traceparent:`00-0000000000000000${ot(t)}-${ot(e)}-0${r?"1":"0"}`,tracestate:`dd=s:${r?"1":"0"};o:rum`});break}case"b3":{Object.assign(c,{b3:`${ot(t)}-${ot(e)}-${r?"1":"0"}`});break}case"b3multi":{Object.assign(c,{"X-B3-TraceId":ot(t),"X-B3-SpanId":ot(e),"X-B3-Sampled":r?"1":"0"});break}}}),o.propagateTraceBaggage){const u={"session.id":n},f=i.getContext().id;typeof f=="string"&&(u["user.id"]=f);const d=s.getContext().id;typeof d=="string"&&(u["account.id"]=d);const l=Object.entries(u).map(([p,m])=>`${p}=${encodeURIComponent(m)}`).join(",");l&&(c.baggage=l)}return c}const Pr=["tracecontext","datadog"];function Ya(t,e){var r,n,a,i,s,o,c;if(t.trackFeatureFlagsForEvents!==void 0&&!Array.isArray(t.trackFeatureFlagsForEvents)&&C.warn("trackFeatureFlagsForEvents should be an array"),!t.applicationId){C.error("Application ID is not configured, no RUM data will be collected.");return}if(!Re(t.sessionReplaySampleRate,"Session Replay")||!Re(t.traceSampleRate,"Trace"))return;if(t.excludedActivityUrls!==void 0&&!Array.isArray(t.excludedActivityUrls)){C.error("Excluded Activity Urls should be an array");return}const u=Za(t);if(!u)return;const f=Vn(t,e),d=Ja(t);if(!f)return;const l=(r=t.sessionReplaySampleRate)!==null&&r!==void 0?r:0;return{applicationId:t.applicationId,actionNameAttribute:t.actionNameAttribute,sessionReplaySampleRate:l,startSessionReplayRecordingManually:t.startSessionReplayRecordingManually!==void 0?!!t.startSessionReplayRecordingManually:l===0,traceSampleRate:(n=t.traceSampleRate)!==null&&n!==void 0?n:100,rulePsr:be(t.traceSampleRate)?t.traceSampleRate/100:void 0,allowedTracingUrls:u,excludedActivityUrls:(a=t.excludedActivityUrls)!==null&&a!==void 0?a:[],workerUrl:t.workerUrl,compressIntakeRequests:!!t.compressIntakeRequests,trackUserInteractions:!!(!((i=t.trackUserInteractions)!==null&&i!==void 0)||i),trackViewsManually:!!t.trackViewsManually,trackResources:!!(!((s=t.trackResources)!==null&&s!==void 0)||s),trackLongTasks:!!(!((o=t.trackLongTasks)!==null&&o!==void 0)||o),trackBfcacheViews:!!t.trackBfcacheViews,trackEarlyRequests:!!t.trackEarlyRequests,subdomain:t.subdomain,defaultPrivacyLevel:ke(de,t.defaultPrivacyLevel)?t.defaultPrivacyLevel:de.MASK,enablePrivacyForActionName:!!t.enablePrivacyForActionName,traceContextInjection:ke(le,t.traceContextInjection)?t.traceContextInjection:le.SAMPLED,plugins:t.plugins||[],trackFeatureFlagsForEvents:t.trackFeatureFlagsForEvents||[],profilingSampleRate:(c=t.profilingSampleRate)!==null&&c!==void 0?c:0,propagateTraceBaggage:!!t.propagateTraceBaggage,allowedGraphQlUrls:d,...f}}function Za(t){if(t.allowedTracingUrls===void 0)return[];if(!Array.isArray(t.allowedTracingUrls)){C.error("Allowed Tracing URLs should be an array");return}if(t.allowedTracingUrls.length!==0&&t.service===void 0){C.error("Service needs to be configured when tracing is enabled");return}const e=[];return t.allowedTracingUrls.forEach(r=>{bt(r)?e.push({match:r,propagatorTypes:Pr}):$a(r)?e.push(r):C.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",r)}),e}function Qa(t){const e=new Set;return at(t.allowedTracingUrls)&&t.allowedTracingUrls.forEach(r=>{bt(r)?Pr.forEach(n=>e.add(n)):Vt(r)==="object"&&Array.isArray(r.propagatorTypes)&&r.propagatorTypes.forEach(n=>e.add(n))}),Array.from(e)}function Ja(t){if(!t.allowedGraphQlUrls)return[];if(!Array.isArray(t.allowedGraphQlUrls))return C.warn("allowedGraphQlUrls should be an array"),[];const e=[];return t.allowedGraphQlUrls.forEach(r=>{bt(r)?e.push({match:r,trackPayload:!1,trackResponseErrors:!1}):r&&typeof r=="object"&&"match"in r&&bt(r.match)&&e.push({match:r.match,trackPayload:!!r.trackPayload,trackResponseErrors:!!r.trackResponseErrors})}),e}function ti(t){return at(t)&&t.some(e=>typeof e=="object"&&"trackPayload"in e?!!e.trackPayload:!1)}function ei(t){return at(t)&&t.some(e=>typeof e=="object"&&"trackResponseErrors"in e?!!e.trackResponseErrors:!1)}function ri(t){var e;const r=Pn(t);return{session_replay_sample_rate:t.sessionReplaySampleRate,start_session_replay_recording_manually:t.startSessionReplayRecordingManually,trace_sample_rate:t.traceSampleRate,trace_context_injection:t.traceContextInjection,propagate_trace_baggage:t.propagateTraceBaggage,action_name_attribute:t.actionNameAttribute,use_allowed_tracing_urls:at(t.allowedTracingUrls),use_allowed_graph_ql_urls:at(t.allowedGraphQlUrls),use_track_graph_ql_payload:ti(t.allowedGraphQlUrls),use_track_graph_ql_response_errors:ei(t.allowedGraphQlUrls),selected_tracing_propagators:Qa(t),default_privacy_level:t.defaultPrivacyLevel,enable_privacy_for_action_name:t.enablePrivacyForActionName,use_excluded_activity_urls:at(t.excludedActivityUrls),use_worker_url:!!t.workerUrl,compress_intake_requests:t.compressIntakeRequests,track_views_manually:t.trackViewsManually,track_user_interactions:t.trackUserInteractions,track_resources:t.trackResources,track_long_task:t.trackLongTasks,track_bfcache_views:t.trackBfcacheViews,track_early_requests:t.trackEarlyRequests,plugins:(e=t.plugins)===null||e===void 0?void 0:e.map(n=>{var a;return{name:n.name,...(a=n.getConfigurationTelemetry)===null||a===void 0?void 0:a.call(n)}}),track_feature_flags_for_events:t.trackFeatureFlagsForEvents,remote_configuration_id:t.remoteConfigurationId,profiling_sample_rate:t.profilingSampleRate,use_remote_configuration_proxy:!!t.remoteConfigurationProxy,...r}}function ni(t){const e=[];let r=0,n;const a={quote:void 0,escapeSequence:void 0};let i="";for(const s of t){if(n=Ve[r].find(o=>ui[o](s,a)),!n)return[];if(a.escapeSequence!==void 0&&n!==12){if(!fi(a.escapeSequence))return[];i+=hi(a.escapeSequence),a.escapeSequence=void 0}li.includes(n)?i+=s:di.includes(n)&&i!==""?(e.push(i),i=""):n===12?a.escapeSequence=a.escapeSequence?`${a.escapeSequence}${s}`:s:n===8?a.quote=s:n===9&&(a.quote=void 0),r=n}return Ve[r].includes(1)?(i!==""&&e.push(i),e):[]}const ai=/[a-zA-Z_$]/,ii=/[a-zA-Z0-9_$]/,si=/[0-9]/,oi=/[a-fA-F0-9]/,ci=`'"`,ui={0:()=>!1,1:()=>!1,2:t=>ai.test(t),3:t=>ii.test(t),4:t=>t===".",5:t=>t==="[",6:t=>t==="]",7:t=>si.test(t),8:t=>ci.includes(t),9:(t,e)=>t===e.quote,10:()=>!0,11:t=>t==="\\",12:(t,e)=>e.escapeSequence===void 0?`${e.quote}/\\bfnrtu`.includes(t):e.escapeSequence.startsWith("u")&&e.escapeSequence.length<5?oi.test(t):!1},Ve={0:[2,5],1:[],2:[3,4,5,1],3:[3,4,5,1],4:[2],5:[8,7],6:[4,5,1],7:[7,6],8:[11,9,10],9:[6],10:[11,9,10],11:[12],12:[12,11,9,10]},li=[2,3,7,10],di=[4,5,6];function fi(t){return`"'/\\bfnrt`.includes(t)||t.startsWith("u")&&t.length===5}const pi={'"':'"',"'":"'","/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function hi(t){return t.startsWith("u")?String.fromCharCode(parseInt(t.slice(1),16)):pi[t]}const mi="v1",_i=["applicationId","service","env","version","sessionSampleRate","sessionReplaySampleRate","defaultPrivacyLevel","enablePrivacyForActionName","traceSampleRate","trackSessionAcrossSubdomains","allowedTracingUrls","allowedTrackingOrigins"];async function gi(t,e){let r;const n=vi(),a=await Si(t);return a.ok?(n.increment("fetch","success"),r=bi(t,a.value,e,n)):(n.increment("fetch","failure"),C.error(a.error)),Bt("remote configuration metrics",{metrics:n.get()}),r}function bi(t,e,r,n){const a={...t};return _i.forEach(l=>{l in e&&(a[l]=i(e[l]))}),Object.keys(r).forEach(l=>{e[l]!==void 0&&s(r[l],e[l])}),a;function i(l){if(Array.isArray(l))return l.map(i);if(yi(l)){if(Ei(l)){const p=l.rcSerializedType;switch(p){case"string":return l.value;case"regex":return Vr(l.value);case"dynamic":return o(l);default:C.error(`Unsupported remote configuration: "rcSerializedType": "${p}"`);return}}return mr(l,i)}return l}function s(l,p){p.forEach(({key:m,value:h})=>{l.setContextProperty(m,i(h))})}function o(l){const p=l.strategy;let m;switch(p){case"cookie":m=c(l);break;case"dom":m=u(l);break;case"js":m=d(l);break;default:C.error(`Unsupported remote configuration: "strategy": "${p}"`);return}const h=l.extractor;return h!==void 0&&typeof m=="string"?wi(h,m):m}function c({name:l}){const p=Un(l);return n.increment("cookie",p!==void 0?"success":"missing"),p}function u({selector:l,attribute:p}){let m;try{m=document.querySelector(l)}catch{C.error(`Invalid selector in the remote configuration: '${l}'`),n.increment("dom","failure");return}if(!m){n.increment("dom","missing");return}if(f(m,p)){C.error(`Forbidden element selected by the remote configuration: '${l}'`),n.increment("dom","failure");return}const h=p!==void 0?m.getAttribute(p):m.textContent;if(h===null){n.increment("dom","missing");return}return n.increment("dom","success"),h}function f(l,p){return l.getAttribute("type")==="password"&&p==="value"}function d({path:l}){let p=window;const m=ni(l);if(m.length===0){C.error(`Invalid JSON path in the remote configuration: '${l}'`),n.increment("js","failure");return}for(const h of m){if(!(h in p)){n.increment("js","missing");return}try{p=p[h]}catch(g){C.error(`Error accessing: '${l}'`,g),n.increment("js","failure");return}}return n.increment("js","success"),p}}function vi(){const t={fetch:{}};return{get:()=>t,increment:(e,r)=>{t[e]||(t[e]={}),t[e][r]||(t[e][r]=0),t[e][r]=t[e][r]+1}}}function yi(t){return typeof t=="object"&&t!==null}function Ei(t){return"rcSerializedType"in t}function Vr(t){try{return new RegExp(t)}catch{C.error(`Invalid regex in the remote configuration: '${t}'`)}}function wi(t,e){const r=Vr(t.value);if(r===void 0)return;const n=r.exec(e);if(n===null)return;const[a,i]=n;return i||a}async function Si(t){let e;try{e=await fetch(Ti(t))}catch{e=void 0}if(!e||!e.ok)return{ok:!1,error:new Error("Error fetching the remote configuration.")};const r=await e.json();return r.rum?{ok:!0,value:r.rum}:{ok:!1,error:new Error("No remote configuration for RUM.")}}function Ti(t){return t.remoteConfigurationProxy?t.remoteConfigurationProxy:`https://sdk-configuration.${Fn("rum",t)}/${mi}/${encodeURIComponent(t.remoteConfigurationId)}.json`}function Ai({ignoreInitIfSyntheticsWillInjectRum:t=!0,startDeflateWorker:e},r,n,a){const i=oa(),s=na();ee(s,O.globalContext,i);const o=aa();ee(o,O.userContext,i);const c=ia();ee(c,O.accountContext,i);let u,f,d,l;const p=r.observable.subscribe(h),m={};function h(){if(!d||!l||!r.isGranted())return;p.unsubscribe();let _;if(l.trackViewsManually){if(!u)return;i.remove(u.callback),_=u.options}const E=a(l,f,_);i.drain(E)}function g(_,E){const w=vt();if(w&&(_=Ii(_)),d=_,sa(ri(_)),l){Tr("DD_RUM",_);return}const R=Ya(_,E);if(R){if(!w&&!R.sessionStoreStrategyType){C.warn("No storage available for session. We will not send any data.");return}R.compressIntakeRequests&&!w&&e&&(f=e(R,"Datadog RUM",A),!f)||(l=R,wr().subscribe(A),r.tryToInit(R.trackingConsent),h())}}const T=_=>{i.add(E=>E.addDurationVital(_))};return{init(_,E,w){if(!_){C.error("Missing configuration");return}zn(_.enableExperimentalFeatures),d=_,!(t&&Er())&&(Or(_.plugins,"onInit",{initConfiguration:_,publicApi:E}),_.remoteConfigurationId?gi(_,{user:o,context:s}).then(R=>{R&&g(R,w)}).catch(Dt):g(_,w))},get initConfiguration(){return d},getInternalContext:A,stopSession:A,addTiming(_,E=G()){i.add(w=>w.addTiming(_,E))},startView(_,E=Y()){const w=R=>{R.startView(_,E)};i.add(w),u||(u={options:_,callback:w},h())},setViewName(_){i.add(E=>E.setViewName(_))},setViewContext(_){i.add(E=>E.setViewContext(_))},setViewContextProperty(_,E){i.add(w=>w.setViewContextProperty(_,E))},getViewContext:()=>m,globalContext:s,userContext:o,accountContext:c,addAction(_){i.add(E=>E.addAction(_))},addError(_){i.add(E=>E.addError(_))},addFeatureFlagEvaluation(_,E){i.add(w=>w.addFeatureFlagEvaluation(_,E))},startDurationVital(_,E){return xr(n,_,E)},stopDurationVital(_,E){Nr(T,n,_,E)},addDurationVital:T,addOperationStepVital:(_,E,w,R)=>{i.add(pt=>pt.addOperationStepVital(x(_),E,x(w),x(R)))}}}function Ii(t){var e,r;return{...t,applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:(e=t.defaultPrivacyLevel)!==null&&e!==void 0?e:(r=Sr())===null||r===void 0?void 0:r.getPrivacyLevel()}}function ee(t,e,r){t.changeObservable.subscribe(()=>{const n=t.getContext();r.add(a=>a[e].setContext(n))})}function Ci(t,e,r,n={}){const a=Bn(),i=Ba(),s=ca().observable;let o=Ai(n,a,i,(d,l,p)=>{const m=l&&n.createDeflateEncoder?g=>n.createDeflateEncoder(d,l,g):la,h=t(d,e,r,p,m,a,i,s,n.sdkName);return e.onRumStart(h.lifeCycle,d,h.session,h.viewHistory,l,h.telemetry),r.onRumStart(h.lifeCycle,h.hooks,d,h.session,h.viewHistory,m),o=Ri(o,h),Or(d.plugins,"onRumStart",{strategy:o,addEvent:h.addEvent}),h});const c=()=>o,u=S(d=>{const l=typeof d=="object"?d:{name:d};o.startView(l),L({feature:"start-view"})}),f=ua({init:d=>{const l=new Error().stack;Jt(()=>o.init(d,f,l))},setTrackingConsent:S(d=>{a.update(d),L({feature:"set-tracking-consent",tracking_consent:d})}),setViewName:S(d=>{o.setViewName(d),L({feature:"set-view-name"})}),setViewContext:S(d=>{o.setViewContext(d),L({feature:"set-view-context"})}),setViewContextProperty:S((d,l)=>{o.setViewContextProperty(d,l),L({feature:"set-view-context-property"})}),getViewContext:S(()=>(L({feature:"set-view-context-property"}),o.getViewContext())),getInternalContext:S(d=>o.getInternalContext(d)),getInitConfiguration:S(()=>Ar(o.initConfiguration)),addAction:(d,l)=>{const p=xe("action");Jt(()=>{o.addAction({name:x(d),context:x(l),startClocks:Y(),type:_e.CUSTOM,handlingStack:p}),L({feature:"add-action"})})},addError:(d,l)=>{const p=xe("error");Jt(()=>{o.addError({error:d,handlingStack:p,context:x(l),startClocks:Y()}),L({feature:"add-error"})})},addTiming:S((d,l)=>{o.addTiming(x(d),l)}),setGlobalContext:D(c,O.globalContext,P.setContext,"set-global-context"),getGlobalContext:D(c,O.globalContext,P.getContext,"get-global-context"),setGlobalContextProperty:D(c,O.globalContext,P.setContextProperty,"set-global-context-property"),removeGlobalContextProperty:D(c,O.globalContext,P.removeContextProperty,"remove-global-context-property"),clearGlobalContext:D(c,O.globalContext,P.clearContext,"clear-global-context"),setUser:D(c,O.userContext,P.setContext,"set-user"),getUser:D(c,O.userContext,P.getContext,"get-user"),setUserProperty:D(c,O.userContext,P.setContextProperty,"set-user-property"),removeUserProperty:D(c,O.userContext,P.removeContextProperty,"remove-user-property"),clearUser:D(c,O.userContext,P.clearContext,"clear-user"),setAccount:D(c,O.accountContext,P.setContext,"set-account"),getAccount:D(c,O.accountContext,P.getContext,"get-account"),setAccountProperty:D(c,O.accountContext,P.setContextProperty,"set-account-property"),removeAccountProperty:D(c,O.accountContext,P.removeContextProperty,"remove-account-property"),clearAccount:D(c,O.accountContext,P.clearContext,"clear-account"),startView:u,stopSession:S(()=>{o.stopSession(),L({feature:"stop-session"})}),addFeatureFlagEvaluation:S((d,l)=>{o.addFeatureFlagEvaluation(x(d),x(l)),L({feature:"add-feature-flag-evaluation"})}),getSessionReplayLink:S(()=>e.getSessionReplayLink()),startSessionReplayRecording:S(d=>{e.start(d),L({feature:"start-session-replay-recording",force:d&&d.force})}),stopSessionReplayRecording:S(()=>e.stop()),addDurationVital:S((d,l)=>{L({feature:"add-duration-vital"}),o.addDurationVital({name:x(d),type:gt.DURATION,startClocks:Gn(l.startTime),duration:l.duration,context:x(l&&l.context),description:x(l&&l.description)})}),startDurationVital:S((d,l)=>(L({feature:"start-duration-vital"}),o.startDurationVital(x(d),{context:x(l&&l.context),description:x(l&&l.description)}))),stopDurationVital:S((d,l)=>{L({feature:"stop-duration-vital"}),o.stopDurationVital(typeof d=="string"?x(d):d,{context:x(l&&l.context),description:x(l&&l.description)})}),startFeatureOperation:S((d,l)=>{L({feature:"add-operation-step-vital",action_type:"start"}),o.addOperationStepVital(d,"start",l)}),succeedFeatureOperation:S((d,l)=>{L({feature:"add-operation-step-vital",action_type:"succeed"}),o.addOperationStepVital(d,"end",l)}),failFeatureOperation:S((d,l,p)=>{L({feature:"add-operation-step-vital",action_type:"fail"}),o.addOperationStepVital(d,"end",p,l)})});return f}function Ri(t,e){return{init:r=>{Tr("DD_RUM",r)},initConfiguration:t.initConfiguration,...e}}function ki(){const t=xi();return new F(e=>{if(!t)return;const r=new t(S(n=>e.notify(n)));return r.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),()=>r.disconnect()})}function xi(){let t;const e=window;if(e.Zone&&(t=Ne(e,"MutationObserver"),e.MutationObserver&&t===e.MutationObserver)){const r=new e.MutationObserver(A),n=Ne(r,"originalInstance");t=n&&n.constructor}return t||(t=e.MutationObserver),t}function Ni(){const t=new F,{stop:e}=fe(window,"open",()=>t.notify());return{observable:t,stop:e}}function Oi(t,e,r,n,a){return{get:i=>{const s=r.findView(i),o=a.findUrl(i),c=e.findTrackedSession(i);if(c&&s&&o){const u=n.findActionId(i);return{application_id:t,session_id:c.id,user_action:u?{id:u}:void 0,view:{id:s.id,name:s.name,referrer:o.referrer,url:o.url}}}}}}const Li=da,Mi=Ut;function Di(t){const e=Et({expireDelay:Mi});t.subscribe(1,n=>{e.add(r(n),n.startClocks.relative)}),t.subscribe(6,({endClocks:n})=>{e.closeActive(n.relative)}),t.subscribe(3,n=>{const a=e.find(n.startClocks.relative);a&&(n.name&&(a.name=n.name),n.context&&(a.context=n.context),a.sessionIsActive=n.sessionIsActive)}),t.subscribe(10,()=>{e.reset()});function r(n){return{service:n.service,version:n.version,context:n.context,id:n.id,name:n.name,startClocks:n.startClocks}}return{findView:n=>e.find(n),stop:()=>{e.stop()}}}const Pi=32*Hn;function Vi(t,e){const r=Fi(t.requestBody,e.trackPayload);if(r){if(e.trackResponseErrors&&t.responseBody){const n=Ui(t.responseBody);n&&(r.errors_count=n.length,r.errors=n)}return r}}function Ui(t){let e;try{e=JSON.parse(t)}catch{return}if(!e||typeof e!="object")return;const r=e;return at(r.errors)?r.errors.map(a=>{var i;return{message:a.message,path:a.path,locations:a.locations,code:(i=a.extensions)===null||i===void 0?void 0:i.code}}):void 0}function Ur(t,e){return e.allowedGraphQlUrls.find(r=>ge([r.match],t))}function Fi(t,e=!1){if(!t||typeof t!="string")return;let r;try{r=JSON.parse(t)}catch{return}if(!r||!r.query)return;const n=r.query.trim(),a=zi(n),i=r.operationName;if(!a)return;let s;return r.variables&&(s=JSON.stringify(r.variables)),{operationType:a,operationName:i,variables:s,payload:e?_r(n,Pi,"..."):void 0}}function zi(t){var e;return(e=t.match(/^\s*(query|mutation|subscription)\b/i))===null||e===void 0?void 0:e[1]}let Ue=1;function Bi(t,e,r,n,a){const i=ja(e,r,n,a);Gi(t,e,i),Hi(t,e,i)}function Gi(t,e,r){const n=fa(e).subscribe(a=>{const i=a;if(ur(i.url))switch(i.state){case"start":r.traceXhr(i,i.xhr),i.requestIndex=Fr(),t.notify(7,{requestIndex:i.requestIndex,url:i.url});break;case"complete":r.clearTracingIfNeeded(i),t.notify(8,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:Ft.XHR,url:i.url,xhr:i.xhr,isAborted:i.isAborted,handlingStack:i.handlingStack,requestBody:i.requestBody,responseBody:i.responseBody});break}});return{stop:()=>n.unsubscribe()}}function Hi(t,e,r){const n=wr({responseBodyAction:a=>{var i;return!((i=Ur(a.url,e))===null||i===void 0)&&i.trackResponseErrors?2:1}}).subscribe(a=>{var i;const s=a;if(ur(s.url))switch(s.state){case"start":r.traceFetch(s),s.requestIndex=Fr(),t.notify(7,{requestIndex:s.requestIndex,url:s.url});break;case"resolve":r.clearTracingIfNeeded(s),t.notify(8,{duration:M(s.startClocks.timeStamp,G()),method:s.method,requestIndex:s.requestIndex,responseType:s.responseType,spanId:s.spanId,startClocks:s.startClocks,status:s.status,traceId:s.traceId,traceSampled:s.traceSampled,type:Ft.FETCH,url:s.url,response:s.response,init:s.init,input:s.input,isAborted:s.isAborted,handlingStack:s.handlingStack,requestBody:(i=s.init)===null||i===void 0?void 0:i.body,responseBody:s.responseBody});break}});return{stop:()=>n.unsubscribe()}}function Fr(){const t=Ue;return Ue+=1,t}function zr(t){return be(t)&&t<0?void 0:t}function Br({lifeCycle:t,isChildEvent:e,onChange:r=A}){const n={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},a=t.subscribe(13,i=>{var s;if(!(i.type==="view"||i.type==="vital"||!e(i)))switch(i.type){case b.ERROR:n.errorCount+=1,r();break;case b.ACTION:n.actionCount+=1,i.action.frustration&&(n.frustrationCount+=i.action.frustration.type.length),r();break;case b.LONG_TASK:n.longTaskCount+=1,r();break;case b.RESOURCE:!((s=i._dd)===null||s===void 0)&&s.discarded||(n.resourceCount+=1,r());break}});return{stop:()=>{a.unsubscribe()},eventCounts:n}}function pe(t){return t.nodeType===Node.TEXT_NODE}function Wi(t){return t.nodeType===Node.COMMENT_NODE}function Z(t){return t.nodeType===Node.ELEMENT_NODE}function Gr(t){return Z(t)&&!!t.shadowRoot}function Ki(t){const e=t;return!!e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&Z(e.host)}function Tu(t){return t.childNodes.length>0||Gr(t)}function Au(t,e){let r=t.firstChild;for(;r;)e(r),r=r.nextSibling;Gr(t)&&e(t.shadowRoot)}function $i(t){return Ki(t)?t.host:t.parentNode}const Hr=100,qi=100,Fe="data-dd-excluded-activity-mutations";function Ae(t,e,r,n,a,i){const s=Xi(t,e,r,n);return ji(s,a,i)}function ji(t,e,r){let n,a=!1;const i=tt(S(()=>u({hadActivity:!1})),Hr),s=r!==void 0?tt(S(()=>u({hadActivity:!0,end:G()})),r):void 0,o=t.subscribe(({isBusy:f})=>{X(i),X(n);const d=G();f||(n=tt(S(()=>u({hadActivity:!0,end:d})),qi))}),c=()=>{a=!0,X(i),X(n),X(s),o.unsubscribe()};function u(f){a||(c(),e(f))}return{stop:c}}function Xi(t,e,r,n){return new F(a=>{const i=[];let s,o=0;return i.push(e.subscribe(u=>{u.every(Yi)||c()}),r.subscribe(c),W(n,{type:I.RESOURCE}).subscribe(u=>{u.some(f=>!re(n,f.name))&&c()}),t.subscribe(7,u=>{re(n,u.url)||(s===void 0&&(s=u.requestIndex),o+=1,c())}),t.subscribe(8,u=>{re(n,u.url)||s===void 0||u.requestIndex<s||(o-=1,c())})),()=>{i.forEach(u=>u.unsubscribe())};function c(){a.notify({isBusy:o>0})}})}function re(t,e){return ge(t.excludedActivityUrls,e)}function Yi(t){const e=t.type==="characterData"?t.target.parentElement:t.target;return!!(e&&Z(e)&&e.matches(`[${Fe}], [${Fe}] *`))}const Gt="data-dd-action-name",Wr="Masked Element",Kr=[Gt,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],Zi=[qr,Ji],Qi=[qr,ts,es];function St(t,e){if(!t.isConnected)return;let r,n=t;for(;n&&n.nodeName!=="HTML";){const a=ze(n,Zi,ns,e,r);if(a)return a;r=ze(n,Qi,as,e,r)||Ht(rs(n),r),n=n.parentElement}return r}function $r(t){return/[0-9]/.test(t)}function Ji(t){if(t.id&&!$r(t.id))return`#${CSS.escape(t.id)}`}function ts(t){if(t.tagName==="BODY")return;const e=t.classList;for(let r=0;r<e.length;r+=1){const n=e[r];if(!$r(n))return`${CSS.escape(t.tagName)}.${CSS.escape(n)}`}}function es(t){return CSS.escape(t.tagName)}function qr(t,e){if(e){const n=r(e);if(n)return n}for(const n of Kr){const a=r(n);if(a)return a}function r(n){if(t.hasAttribute(n))return`${CSS.escape(t.tagName)}[${n}="${CSS.escape(t.getAttribute(n))}"]`}}function rs(t){let e=t.parentElement.firstElementChild,r=1;for(;e&&e!==t;)e.tagName===t.tagName&&(r+=1),e=e.nextElementSibling;return`${CSS.escape(t.tagName)}:nth-of-type(${r})`}function ze(t,e,r,n,a){for(const i of e){const s=i(t,n);if(s&&r(t,s,a))return Ht(s,a)}}function ns(t,e,r){return t.ownerDocument.querySelectorAll(Ht(e,r)).length===1}function as(t,e,r){let n;if(r===void 0)n=s=>s.matches(e);else{const s=Ht(`${e}:scope`,r);n=o=>o.querySelector(s)!==null}let i=t.parentElement.firstElementChild;for(;i;){if(i!==t&&n(i))return!1;i=i.nextElementSibling}return!0}function Ht(t,e){return e?`${t}>${e}`:t}function Wt(t,e,r){if(r&&r.has(t))return r.get(t);const n=$i(t),a=n?Wt(n,e,r):e,i=ss(t),s=is(i,a);return r&&r.set(t,s),s}function is(t,e){switch(e){case y.HIDDEN:case y.IGNORE:return e}switch(t){case y.ALLOW:case y.MASK:case y.MASK_USER_INPUT:case y.MASK_UNLESS_ALLOWLISTED:case y.HIDDEN:case y.IGNORE:return t;default:return e}}function ss(t){if(Z(t)){if(t.tagName==="BASE")return y.ALLOW;if(t.tagName==="INPUT"){const e=t;if(e.type==="password"||e.type==="email"||e.type==="tel")return y.MASK;if(e.type==="hidden")return y.MASK;const r=e.getAttribute("autocomplete");if(r&&(r.startsWith("cc-")||r.endsWith("-password")))return y.MASK}if(t.matches(nt(y.HIDDEN)))return y.HIDDEN;if(t.matches(nt(y.MASK)))return y.MASK;if(t.matches(nt(y.MASK_UNLESS_ALLOWLISTED)))return y.MASK_UNLESS_ALLOWLISTED;if(t.matches(nt(y.MASK_USER_INPUT)))return y.MASK_USER_INPUT;if(t.matches(nt(y.ALLOW)))return y.ALLOW;if(cs(t))return y.IGNORE}}function jr(t,e){switch(e){case y.MASK:case y.HIDDEN:case y.IGNORE:return!0;case y.MASK_UNLESS_ALLOWLISTED:return pe(t)?kt(t.parentNode)?!0:!Yr(t.textContent||""):kt(t);case y.MASK_USER_INPUT:return pe(t)?kt(t.parentNode):kt(t);default:return!1}}function os(t,e,r,n,a){if(n!==y.MASK&&n!==y.MASK_UNLESS_ALLOWLISTED||e===Sn||Kr.includes(e)||e===a.actionNameAttribute)return!1;switch(e){case"title":case"alt":case"placeholder":return!0}return!!(t==="A"&&e==="href"||t==="IFRAME"&&e==="srcdoc"||r&&e.startsWith("data-")||(t==="IMG"||t==="SOURCE")&&(e==="src"||e==="srcset"))}function kt(t){if(!t||t.nodeType!==t.ELEMENT_NODE)return!1;const e=t;if(e.tagName==="INPUT")switch(e.type){case"button":case"color":case"reset":case"submit":return!1}return!!An[e.tagName]}const Xr=t=>t.replace(/\S/g,Tn);function Iu(t,e){var r;const n=(r=t.parentElement)===null||r===void 0?void 0:r.tagName;let a=t.textContent||"";if(n==="HEAD"&&!a.trim())return;const s=e;if(n==="SCRIPT")a=Qt;else if(s===y.HIDDEN)a=Qt;else if(jr(t,s))if(n==="DATALIST"||n==="SELECT"||n==="OPTGROUP"){if(!a.trim())return}else n==="OPTION"?a=Qt:s===y.MASK_UNLESS_ALLOWLISTED?a=Zr(a):a=Xr(a);return a}function cs(t){if(t.nodeName==="SCRIPT")return!0;if(t.nodeName==="LINK"){const r=e("rel");return/preload|prefetch/i.test(r)&&e("as")==="script"||r==="shortcut icon"||r==="icon"}if(t.nodeName==="META"){const r=e("name"),n=e("rel"),a=e("property");return/^msapplication-tile(image|color)$/.test(r)||r==="application-name"||n==="icon"||n==="apple-touch-icon"||n==="shortcut icon"||r==="keywords"||r==="description"||/^(og|twitter|fb):/.test(a)||/^(og|twitter):/.test(r)||r==="pinterest"||r==="robots"||r==="googlebot"||r==="bingbot"||t.hasAttribute("http-equiv")||r==="author"||r==="generator"||r==="framework"||r==="publisher"||r==="progid"||/^article:/.test(a)||/^product:/.test(a)||r==="google-site-verification"||r==="yandex-verification"||r==="csrf-token"||r==="p:domain_verify"||r==="verify-v1"||r==="verification"||r==="shopify-checkout-api-token"}function e(r){return(t.getAttribute(r)||"").toLowerCase()}return!1}function Yr(t){var e;return!t||!t.trim()?!0:((e=window.$DD_ALLOW)===null||e===void 0?void 0:e.has(t.toLocaleLowerCase()))||!1}function Zr(t,e){return Yr(t)?t:e||Xr(t)}const Qr=$,us=100;function ls(t,e){const r=[];let n=0,a;i(t);function i(c){c.stopObservable.subscribe(s),r.push(c),X(a),a=tt(o,Qr)}function s(){n===1&&r.every(c=>c.isStopped())&&(n=2,e(r))}function o(){X(a),n===0&&(n=1,s())}return{tryAppend:c=>n!==0?!1:r.length>0&&!ds(r[r.length-1].event,c.event)?(o(),!1):(i(c),!0),stop:()=>{o()}}}function ds(t,e){return t.target===e.target&&fs(t,e)<=us&&t.timeStamp-e.timeStamp<=Qr}function fs(t,e){return Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2))}function ps(t,e,r=y.ALLOW){const n=new Map,{actionNameAttribute:a}=e,i=Be(t,Gt)||a&&Be(t,a);return i?{name:i,nameSource:"custom_attribute"}:r===y.MASK?{name:Wr,nameSource:"mask_placeholder"}:Ge(t,hs,e,n)||Ge(t,ms,e,n)||{name:"",nameSource:"blank"}}function Be(t,e){const r=t.closest(`[${e}]`);if(!r)return;const n=r.getAttribute(e);return tn(Jr(n.trim()))}const hs=[(t,e,r)=>{if("labels"in t&&t.labels&&t.labels.length>0)return Ot(t.labels[0],e,r)},t=>{if(t.nodeName==="INPUT"){const e=t,r=e.getAttribute("type");if(r==="button"||r==="submit"||r==="reset")return{name:e.value,nameSource:"text_content"}}},(t,e,r)=>{if(t.nodeName==="BUTTON"||t.nodeName==="LABEL"||t.getAttribute("role")==="button")return Ot(t,e,r)},(t,e,r)=>mt(t,"aria-label",e,r),(t,e,r)=>{const n=t.getAttribute("aria-labelledby");if(n)return{name:n.split(/\s+/).map(a=>gs(t,a)).filter(a=>!!a).map(a=>en(a,e,r)).join(" "),nameSource:"text_content"}},(t,e,r)=>mt(t,"alt",e,r),(t,e,r)=>mt(t,"name",e,r),(t,e,r)=>mt(t,"title",e,r),(t,e,r)=>mt(t,"placeholder",e,r),(t,e,r)=>{if("options"in t&&t.options.length>0)return Ot(t.options[0],e,r)}],ms=[(t,e,r)=>Ot(t,e,r)],_s=10;function Ge(t,e,r,n){let a=t,i=0;for(;i<=_s&&a&&a.nodeName!=="BODY"&&a.nodeName!=="HTML"&&a.nodeName!=="HEAD";){for(const s of e){const o=s(a,r,n);if(o){const{name:c,nameSource:u}=o,f=c&&c.trim();if(f)return{name:tn(Jr(f)),nameSource:u}}}if(a.nodeName==="FORM")break;a=a.parentElement,i+=1}}function Jr(t){return t.replace(/\s+/g," ")}function tn(t){return t.length>100?`${_r(t,100)} [...]`:t}function gs(t,e){return t.ownerDocument?t.ownerDocument.getElementById(e):null}function mt(t,e,r,n){const{enablePrivacyForActionName:a,defaultPrivacyLevel:i}=r;let s=t.getAttribute(e);if(s&&a){const o=Wt(t,i,n);os(t.tagName,e,s,o,r)&&(s=Zr(s,Wr))}else s||(s="");return{name:s,nameSource:"standard_attribute"}}function Ot(t,e,r){return{name:en(t,e,r)||"",nameSource:"text_content"}}function en(t,e,r){if(t.isContentEditable)return;const{enablePrivacyForActionName:n,actionNameAttribute:a,defaultPrivacyLevel:i}=e;if(fr(pr.USE_TREE_WALKER_FOR_ACTION_NAME))return bs(t,a,n,i,r);if("innerText"in t){let s=t.innerText;const o=c=>{const u=t.querySelectorAll(c);for(let f=0;f<u.length;f+=1){const d=u[f];if("innerText"in d){const l=d.innerText;l&&l.trim().length>0&&(s=s.replace(l,""))}}};return o(`[${Gt}]`),a&&o(`[${a}]`),n&&o(`${nt(y.HIDDEN)}, ${nt(y.MASK)}`),s}return t.textContent}function bs(t,e,r,n,a){const i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,o);let s="";for(;i.nextNode();){const c=i.currentNode;if(Z(c)){(c.nodeName==="BR"||c.nodeName==="P"||["block","flex","grid","list-item","table","table-caption"].includes(getComputedStyle(c).display))&&(s+=" ");continue}s+=c.textContent||""}return s.replace(/\s+/g," ").trim();function o(c){const u=Wt(c,n,a);if(r&&u&&jr(c,u))return NodeFilter.FILTER_REJECT;if(Z(c)){if(c.hasAttribute(Gt)||e&&c.hasAttribute(e))return NodeFilter.FILTER_REJECT;const f=getComputedStyle(c);if(f.visibility!=="visible"||f.display==="none"||f.contentVisibility&&f.contentVisibility!=="visible")return NodeFilter.FILTER_REJECT}return NodeFilter.FILTER_ACCEPT}}function vs(t,{onPointerDown:e,onPointerUp:r}){let n,a={selection:!1,input:!1,scroll:!1},i;const s=[V(t,window,"pointerdown",o=>{We(o)&&(n=He(),a={selection:!1,input:!1,scroll:!1},i=e(o))},{capture:!0}),V(t,window,"selectionchange",()=>{(!n||!He())&&(a.selection=!0)},{capture:!0}),V(t,window,"scroll",()=>{a.scroll=!0},{capture:!0,passive:!0}),V(t,window,"pointerup",o=>{if(We(o)&&i){const c=a;r(i,o,()=>c),i=void 0}},{capture:!0}),V(t,window,"input",()=>{a.input=!0},{capture:!0})];return{stop:()=>{s.forEach(o=>o.stop())}}}function He(){const t=window.getSelection();return!t||t.isCollapsed}function We(t){return t.target instanceof Element&&t.isPrimary!==!1}const Ke=3;function ys(t,e){if(Es(t))return e.addFrustration(ht.RAGE_CLICK),t.some($e)&&e.addFrustration(ht.DEAD_CLICK),e.hasError&&e.addFrustration(ht.ERROR_CLICK),{isRage:!0};const r=t.some(n=>n.getUserActivity().selection);return t.forEach(n=>{n.hasError&&n.addFrustration(ht.ERROR_CLICK),$e(n)&&!r&&n.addFrustration(ht.DEAD_CLICK)}),{isRage:!1}}function Es(t){if(t.some(e=>e.getUserActivity().selection||e.getUserActivity().scroll))return!1;for(let e=0;e<t.length-(Ke-1);e+=1)if(t[e+Ke-1].event.timeStamp-t[e].event.timeStamp<=$)return!0;return!1}const ws='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function $e(t){if(t.hasPageActivity||t.getUserActivity().input||t.getUserActivity().scroll)return!1;let e=t.event.target;return e.tagName==="LABEL"&&e.hasAttribute("for")&&(e=document.getElementById(e.getAttribute("for"))),!e||!e.matches(ws)}const rn=10*$,_t=new Map;function Ss(t){const e=_t.get(t);return _t.delete(t),e}function nn(t,e){_t.set(t,e),_t.forEach((r,n)=>{M(n,it())>rn&&_t.delete(n)})}const Ts=5*st;function As(t,e,r,n){const a=Et({expireDelay:Ts}),i=new F;let s;t.subscribe(10,()=>{a.reset()}),t.subscribe(5,f),t.subscribe(11,d=>{d.reason===Ir.UNLOADING&&f()});const{stop:o}=vs(n,{onPointerDown:d=>Is(n,t,e,d,r),onPointerUp:({clickActionBase:d,hadActivityOnPointerDown:l},p,m)=>{Cs(n,t,e,r,a,i,u,d,p,m,l)}});return{stop:()=>{f(),i.notify(),o()},actionContexts:{findActionId:d=>a.findAll(d)}};function u(d){if(!s||!s.tryAppend(d)){const l=d.clone();s=ls(d,p=>{ks(p,l)})}}function f(){s&&s.stop()}}function Is(t,e,r,n,a){let i;if(t.enablePrivacyForActionName?i=Wt(n.target,t.defaultPrivacyLevel):i=y.ALLOW,i===y.HIDDEN)return;const s=Rs(n,i,t);let o=!1;return Ae(e,r,a,t,c=>{o=c.hadActivity},Hr),{clickActionBase:s,hadActivityOnPointerDown:()=>o}}function Cs(t,e,r,n,a,i,s,o,c,u,f){var d;const l=an(e,a,u,o,c);s(l);const p=(d=o==null?void 0:o.target)===null||d===void 0?void 0:d.selector;p&&nn(c.timeStamp,p);const{stop:m}=Ae(e,r,n,t,T=>{T.hadActivity&&T.end<l.startClocks.timeStamp?l.discard():T.hadActivity?l.stop(T.end):f()?l.stop(l.startClocks.timeStamp):l.stop()},rn),h=e.subscribe(5,({endClocks:T})=>{l.stop(T.timeStamp)}),g=i.subscribe(()=>{l.stop()});l.stopObservable.subscribe(()=>{h.unsubscribe(),m(),g.unsubscribe()})}function Rs(t,e,r){const n=t.target.getBoundingClientRect(),a=St(t.target,r.actionNameAttribute);a&&nn(t.timeStamp,a);const{name:i,nameSource:s}=ps(t.target,r,e);return{type:_e.CLICK,target:{width:Math.round(n.width),height:Math.round(n.height),selector:a},position:{x:Math.round(t.clientX-n.left),y:Math.round(t.clientY-n.top)},name:i,nameSource:s}}function an(t,e,r,n,a){const i=et(),s=Y(),o=e.add(i,s.relative),c=Br({lifeCycle:t,isChildEvent:m=>m.action!==void 0&&(Array.isArray(m.action.id)?m.action.id.includes(i):m.action.id===i)});let u=0,f;const d=[],l=new F;function p(m){u===0&&(f=m,u=1,f?o.close(gr(f)):o.remove(),c.stop(),l.notify())}return{event:a,stop:p,stopObservable:l,get hasError(){return c.eventCounts.errorCount>0},get hasPageActivity(){return f!==void 0},getUserActivity:r,addFrustration:m=>{d.push(m)},startClocks:s,isStopped:()=>u===1||u===2,clone:()=>an(t,e,r,n,a),validate:m=>{if(p(),u!==1)return;const{resourceCount:h,errorCount:g,longTaskCount:T}=c.eventCounts,N={duration:f&&M(s.timeStamp,f),startClocks:s,id:i,frustrationTypes:d,counts:{resourceCount:h,errorCount:g,longTaskCount:T},events:m??[a],event:a,...n};t.notify(0,N),u=2},discard:()=>{p(),u=2}}}function ks(t,e){const{isRage:r}=ys(t,e);r?(t.forEach(n=>n.discard()),e.stop(G()),e.validate(t.map(n=>n.event))):(e.discard(),t.forEach(n=>n.validate()))}function xs(t,e,r,n,a){const{unsubscribe:i}=t.subscribe(0,c=>{t.notify(12,qe(c))});e.register(0,({startTime:c,eventType:u})=>{if(u!==b.ERROR&&u!==b.RESOURCE&&u!==b.LONG_TASK)return K;const f=s.findActionId(c);return f?{type:u,action:{id:f}}:K}),e.register(1,({startTime:c})=>({action:{id:s.findActionId(c)}}));let s={findActionId:A},o=A;return a.trackUserInteractions&&({actionContexts:s,stop:o}=As(t,r,n,a)),{addAction:c=>{t.notify(12,qe(c))},actionContexts:s,stop:()=>{i(),o()}}}function qe(t){const e=ne(t)?{action:{id:t.id,loading_time:zr(v(t.duration)),frustration:{type:t.frustrationTypes},error:{count:t.counts.errorCount},long_task:{count:t.counts.longTaskCount},resource:{count:t.counts.resourceCount}},_dd:{action:{target:t.target,position:t.position,name_source:t.nameSource}}}:{context:t.context},r=yt({action:{id:et(),target:{name:t.name},type:t.type},date:t.startClocks.timeStamp,type:b.ACTION},e),n=ne(t)?t.duration:void 0,a=ne(t)?{events:t.events}:{handlingStack:t.handlingStack};return{rawRumEvent:r,duration:n,startTime:t.startClocks.relative,domainContext:a}}function ne(t){return t.type!==_e.CUSTOM}function Ns(t){const e=pa([Wn.error]).subscribe(r=>t.notify(r.error));return{stop:()=>{e.unsubscribe()}}}function Os(t,e){const r=ha(t,[Le.cspViolation,Le.intervention]).subscribe(n=>e.notify(n));return{stop:()=>{r.unsubscribe()}}}function Ls(t,e,r){const n=new F;return r.subscribe(a=>{a.type===0&&n.notify(a.error)}),Ns(n),Os(e,n),n.subscribe(a=>t.notify(14,{error:a})),Ms(t)}function Ms(t){return t.subscribe(14,({error:e})=>{t.notify(12,Ds(e))}),{addError:({error:e,handlingStack:r,componentStack:n,startClocks:a,context:i})=>{const s=Kn({originalError:e,handlingStack:r,componentStack:n,startClocks:a,nonErrorPrefix:"Provided",source:$n.CUSTOM,handling:"handled"});s.context=yt(s.context,i),t.notify(14,{error:s})}}}function Ds(t){const e={date:t.startClocks.timeStamp,error:{id:et(),message:t.message,source:t.source,stack:t.stack,handling_stack:t.handlingStack,component_stack:t.componentStack,type:t.type,handling:t.handling,causes:t.causes,source_type:"browser",fingerprint:t.fingerprint,csp:t.csp},type:b.ERROR,context:t.context},r={error:t.originalError,handlingStack:t.handlingStack};return{rawRumEvent:e,startTime:t.startClocks.relative,domainContext:r}}const je=new WeakSet;function Ps(t){if(!performance||!("getEntriesByName"in performance))return;const e=performance.getEntriesByName(t.url,"resource");if(!e.length||!("toJSON"in e[0]))return;const r=e.filter(n=>!je.has(n)).filter(n=>In(n)&&Cn(n)).filter(n=>Vs(n,t.startClocks.relative,sn({startTime:t.startClocks.relative,duration:t.duration})));if(r.length===1)return je.add(r[0]),r[0].toJSON()}function sn(t){return br(t.startTime,t.duration)}function Vs(t,e,r){return t.startTime>=e-1&&sn(t)<=br(r,1)}const Us=2*st;function Fs(t){const e=zs(t)||Bs(t);if(!(!e||e.traceTime<=ce()-Us))return e.traceId}function zs(t){const e=t.querySelector("meta[name=dd-trace-id]"),r=t.querySelector("meta[name=dd-trace-time]");return on(e&&e.content,r&&r.content)}function Bs(t){const e=Gs(t);if(e)return on(Pt(e,"trace-id"),Pt(e,"trace-time"))}function on(t,e){const r=e&&Number(e);if(!(!t||!r))return{traceId:t,traceTime:r}}function Gs(t){for(let e=0;e<t.childNodes.length;e+=1){const r=Xe(t.childNodes[e]);if(r)return r}if(t.body)for(let e=t.body.childNodes.length-1;e>=0;e-=1){const r=t.body.childNodes[e],n=Xe(r);if(n)return n;if(!pe(r))break}}function Xe(t){if(t&&Wi(t)){const e=/^\s*DATADOG;(.*?)\s*$/.exec(t.data);if(e)return e[1]}}function cn(){if(ft(I.NAVIGATION)){const r=performance.getEntriesByType(I.NAVIGATION)[0];if(r)return r}const t=Hs(),e={entryType:I.NAVIGATION,initiatorType:"navigation",name:window.location.href,startTime:0,duration:t.loadEventEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,workerStart:0,toJSON:()=>({...e,toJSON:void 0}),...t};return e}function Hs(){const t={},e=performance.timing;for(const r in e)if(be(e[r])){const n=r,a=e[n];t[n]=a===0?0:gr(a)}return t}function Ws(t,e,r=cn){Te(t,"interactive",()=>{const n=r(),a=Object.assign(n.toJSON(),{entryType:I.RESOURCE,initiatorType:Rn,duration:n.responseEnd,traceId:Fs(document),toJSON:()=>({...a,toJSON:void 0})});e(a)})}const Ks=1e3;function $s(t){const e=new Set,r=t.subscribe(8,n=>{e.add(n),e.size>Ks&&(Se("Too many requests"),e.delete(e.values().next().value))});return{getMatchingRequest(n){let a=1/0,i;for(const s of e){const o=n.startTime-s.startClocks.relative;0<=o&&o<a&&s.url===n.name&&(a=Math.abs(o),i=s)}return i&&e.delete(i),i},stop(){r.unsubscribe()}}}function qs(t,e,r,n=Fa(),a=Ws){let i;const s=e.trackEarlyRequests;s?i=$s(t):t.subscribe(8,u=>{c(()=>js(u,e,r))});const o=W(e,{type:I.RESOURCE,buffered:!0}).subscribe(u=>{for(const f of u)(s||!lr(f))&&c(()=>Ye(f,e,r,i))});a(e,u=>{c(()=>Ye(u,e,r,i))});function c(u){n.push(()=>{const f=u();f&&t.notify(12,f)})}return{stop:()=>{n.stop(),o.unsubscribe()}}}function js(t,e,r){const n=Ps(t);return un(n,t,r,e)}function Ye(t,e,r,n){const a=lr(t)&&n?n.getMatchingRequest(t):void 0;return un(t,a,r,e)}function un(t,e,r,n){if(!t&&!e)return;const a=e?Qs(e,n):Js(t,n);if(!n.trackResources&&!a)return;const i=t?zt(t.startTime):e.startClocks,s=t?kn(t):to(r,i,e.duration),o=e&&Xs(e,n),c=yt({date:i.timeStamp,resource:{id:et(),duration:v(s),type:e?e.type===Ft.XHR?Oe.XHR:Oe.FETCH:Ln(t),method:e?e.method:void 0,status_code:e?e.status:eo(t.responseStatus),url:e?On(e.url):t.name,protocol:t&&Nn(t),delivery_type:t&&xn(t),graphql:o},type:b.RESOURCE,_dd:{discarded:!n.trackResources}},a,t&&Zs(t));return{startTime:i.relative,duration:s,rawRumEvent:c,domainContext:Ys(t,e)}}function Xs(t,e){const r=Ur(t.url,e);if(r)return Vi(t,r)}function Ys(t,e){if(e){const r={performanceEntry:t,isAborted:e.isAborted,handlingStack:e.handlingStack};return e.type===Ft.XHR?{xhr:e.xhr,...r}:{requestInput:e.input,requestInit:e.init,response:e.response,error:e.error,...r}}return{performanceEntry:t}}function Zs(t){const{renderBlockingStatus:e}=t;return{resource:{render_blocking_status:e,...Dn(t),...Mn(t)}}}function Qs(t,e){if(t.traceSampled&&t.traceId&&t.spanId)return{_dd:{span_id:t.spanId.toString(),trace_id:t.traceId.toString(),rule_psr:e.rulePsr}}}function Js(t,e){if(t.traceId)return{_dd:{trace_id:t.traceId,span_id:Mr().toString(),rule_psr:e.rulePsr}}}function to(t,e,r){return t.wasInPageStateDuringPeriod("frozen",e.relative,r)?void 0:r}function eo(t){return t===0?void 0:t}function ro(t,e,r){const{stop:n,eventCounts:a}=Br({lifeCycle:t,isChildEvent:i=>i.view.id===e,onChange:r});return{stop:n,eventCounts:a}}const no=10*st;function ao(t,e,r){return{stop:W(t,{type:I.PAINT,buffered:!0}).subscribe(a=>{const i=a.find(s=>s.name==="first-contentful-paint"&&s.startTime<e.timeStamp&&s.startTime<no);i&&r(i.startTime)}).unsubscribe}}function io(t,e){requestAnimationFrame(()=>{requestAnimationFrame(()=>{e(M(t,it()))})})}function so(t,e,r){const n=W(t,{type:I.FIRST_INPUT,buffered:!0}).subscribe(a=>{const i=a.find(s=>s.startTime<e.timeStamp);if(i){const s=M(i.startTime,i.processingStart);let o;i.target&&Z(i.target)&&(o=St(i.target,t.actionNameAttribute)),r({delay:s>=0?s:0,time:i.startTime,targetSelector:o})}});return{stop:()=>{n.unsubscribe()}}}function oo(t,e,r=cn){return lo(t,()=>{const n=r();uo(n)||e(co(n))})}function co(t){return{domComplete:t.domComplete,domContentLoaded:t.domContentLoadedEventEnd,domInteractive:t.domInteractive,loadEvent:t.loadEventEnd,firstByte:t.responseStart>=0&&t.responseStart<=it()?t.responseStart:void 0}}function uo(t){return t.loadEventEnd<=0}function lo(t,e){let r;const{stop:n}=Te(t,"complete",()=>{r=tt(()=>e())});return{stop:()=>{n(),X(r)}}}const fo=10*st;function po(t,e,r,n){let a=1/0;const{stop:i}=ve(t,r,["pointerdown","keydown"],c=>{a=c.timeStamp},{capture:!0,once:!0});let s=0;const o=W(t,{type:I.LARGEST_CONTENTFUL_PAINT,buffered:!0}).subscribe(c=>{const u=qn(c,f=>f.entryType===I.LARGEST_CONTENTFUL_PAINT&&f.startTime<a&&f.startTime<e.timeStamp&&f.startTime<fo&&f.size>s);if(u){let f;u.element&&(f=St(u.element,t.actionNameAttribute)),n({value:u.startTime,targetSelector:f,resourceUrl:ho(u)}),s=u.size}});return{stop:()=>{i(),o.unsubscribe()}}}function ho(t){return t.url===""?void 0:t.url}function ln(t,e,r=window){if(document.visibilityState==="hidden")return{timeStamp:0,stop:A};if(ft(I.VISIBILITY_STATE)){const i=performance.getEntriesByType(I.VISIBILITY_STATE).filter(s=>s.name==="hidden").find(s=>s.startTime>=e.relative);if(i)return{timeStamp:i.startTime,stop:A}}let n=1/0;const{stop:a}=ve(t,r,["pagehide","visibilitychange"],i=>{(i.type==="pagehide"||document.visibilityState==="hidden")&&(n=i.timeStamp,a())},{capture:!0});return{get timeStamp(){return n},stop:a}}function mo(t,e,r,n){const a={},{stop:i}=oo(t,d=>{r(d.loadEvent),a.navigationTimings=d,n()}),s=ln(t,e),{stop:o}=ao(t,s,d=>{a.firstContentfulPaint=d,n()}),{stop:c}=po(t,s,window,d=>{a.largestContentfulPaint=d,n()}),{stop:u}=so(t,s,d=>{a.firstInput=d,n()});function f(){i(),o(),c(),u(),s.stop()}return{stop:f,initialViewMetrics:a}}const he=(t,e)=>t*e,_o=(t,e)=>{const r=Math.max(t.left,e.left),n=Math.max(t.top,e.top),a=Math.min(t.right,e.right),i=Math.min(t.bottom,e.bottom);return r>=a||n>=i?0:he(a-r,i-n)},Ze=t=>{const e=he(t.previousRect.width,t.previousRect.height),r=he(t.currentRect.width,t.currentRect.height),n=_o(t.previousRect,t.currentRect);return e+r-n};function go(t,e,r){if(!wo())return{stop:A};let n=0,a;r({value:0});const i=Eo(),s=W(t,{type:I.LAYOUT_SHIFT,buffered:!0}).subscribe(o=>{var c;for(const u of o){if(u.hadRecentInput||u.startTime<e)continue;const{cumulatedValue:f,isMaxValue:d}=i.update(u);if(d){const l=bo(u.sources);a={target:l!=null&&l.node?new WeakRef(l.node):void 0,time:M(e,u.startTime),previousRect:l==null?void 0:l.previousRect,currentRect:l==null?void 0:l.currentRect,devicePixelRatio:window.devicePixelRatio}}if(f>n){n=f;const l=(c=a==null?void 0:a.target)===null||c===void 0?void 0:c.deref();r({value:Nt(n,4),targetSelector:l&&St(l,t.actionNameAttribute),time:a==null?void 0:a.time,previousRect:a!=null&&a.previousRect?Qe(a.previousRect):void 0,currentRect:a!=null&&a.currentRect?Qe(a.currentRect):void 0,devicePixelRatio:a==null?void 0:a.devicePixelRatio})}}});return{stop:()=>{s.unsubscribe()}}}function bo(t){let e;for(const r of t)if(r.node&&Z(r.node)){const n=Ze(r);(!e||Ze(e)<n)&&(e=r)}return e}function Qe({x:t,y:e,width:r,height:n}){return{x:t,y:e,width:r,height:n}}const vo=5*$,yo=$;function Eo(){let t=0,e,r,n=0;return{update:a=>{const i=e===void 0||a.startTime-r>=yo||a.startTime-e>=vo;let s;return i?(e=r=a.startTime,n=t=a.value,s=!0):(t+=a.value,r=a.startTime,s=a.value>n,s&&(n=a.value)),{cumulatedValue:t,isMaxValue:s}}}}function wo(){return ft(I.LAYOUT_SHIFT)&&"WeakRef"in window}let Lt,dn=0,ae=1/0,ie=0;function So(){"interactionCount"in performance||Lt||(Lt=new window.PerformanceObserver(S(t=>{t.getEntries().forEach(e=>{const r=e;r.interactionId&&(ae=Math.min(ae,r.interactionId),ie=Math.max(ie,r.interactionId),dn=(ie-ae)/7+1)})})),Lt.observe({type:"event",buffered:!0,durationThreshold:0}))}const Je=()=>Lt?dn:window.performance.interactionCount||0,tr=10,To=1*st;function Ao(t,e,r){if(!Ro())return{getInteractionToNextPaint:()=>{},setViewEnd:A,stop:A};const{getViewInteractionCount:n,stopViewInteractionCount:a}=Co(r);let i=1/0;const s=Io(n);let o=-1,c,u;function f(p){for(const h of p)h.interactionId&&h.startTime>=e&&h.startTime<=i&&s.process(h);const m=s.estimateP98Interaction();m&&m.duration!==o&&(o=m.duration,u=M(e,m.startTime),c=Ss(m.startTime),!c&&m.target&&Z(m.target)&&(c=St(m.target,t.actionNameAttribute)))}const d=W(t,{type:I.FIRST_INPUT,buffered:!0}).subscribe(f),l=W(t,{type:I.EVENT,durationThreshold:40,buffered:!0}).subscribe(f);return{getInteractionToNextPaint:()=>{if(o>=0)return{value:Math.min(o,To),targetSelector:c,time:u};if(n())return{value:0}},setViewEnd:p=>{i=p,a()},stop:()=>{l.unsubscribe(),d.unsubscribe()}}}function Io(t){const e=[];function r(){e.sort((n,a)=>a.duration-n.duration).splice(tr)}return{process(n){const a=e.findIndex(s=>n.interactionId===s.interactionId),i=e[e.length-1];a!==-1?n.duration>e[a].duration&&(e[a]=n,r()):(e.length<tr||n.duration>i.duration)&&(e.push(n),r())},estimateP98Interaction(){const n=Math.min(e.length-1,Math.floor(t()/50));return e[n]}}}function Co(t){So();const e=t===j.INITIAL_LOAD?0:Je();let r={stopped:!1};function n(){return Je()-e}return{getViewInteractionCount:()=>r.stopped?r.interactionCount:n(),stopViewInteractionCount:()=>{r={stopped:!0,interactionCount:n()}}}}function Ro(){return ft(I.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype}function ko(t,e,r,n,a,i,s){let o=a===j.INITIAL_LOAD,c=!0;const u=[],f=ln(n,i);function d(){if(!c&&!o&&u.length>0){const p=Math.max(...u);p<f.timeStamp-i.relative&&s(p)}}const{stop:l}=Ae(t,e,r,n,p=>{c&&(c=!1,p.hadActivity&&u.push(M(i.timeStamp,p.end)),d())});return{stop:()=>{l(),f.stop()},setLoadEvent:p=>{o&&(o=!1,u.push(p),d())}}}function Cu(){let t;const e=window.visualViewport;return e?t=e.pageLeft-e.offsetLeft:window.scrollX!==void 0?t=window.scrollX:t=window.pageXOffset||0,Math.round(t)}function xo(){let t;const e=window.visualViewport;return e?t=e.pageTop-e.offsetTop:window.scrollY!==void 0?t=window.scrollY:t=window.pageYOffset||0,Math.round(t)}let se;function No(t){return se||(se=Oo(t)),se}function Oo(t){return new F(e=>{const{throttled:r}=ye(()=>{e.notify(Ie())},200);return V(t,window,"resize",r,{capture:!0,passive:!0}).stop})}function Ie(){const t=window.visualViewport;return t?{width:Number(t.width*t.scale),height:Number(t.height*t.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}const Lo=$;function Mo(t,e,r,n=Po(t)){let a=0,i=0,s=0;const o=n.subscribe(({scrollDepth:c,scrollTop:u,scrollHeight:f})=>{let d=!1;if(c>a&&(a=c,d=!0),f>i){i=f;const l=it();s=M(e.relative,l),d=!0}d&&r({maxDepth:Math.min(a,i),maxDepthScrollTop:u,maxScrollHeight:i,maxScrollHeightTime:s})});return{stop:()=>o.unsubscribe()}}function Do(){const t=xo(),{height:e}=Ie(),r=Math.round((document.scrollingElement||document.documentElement).scrollHeight),n=Math.round(e+t);return{scrollHeight:r,scrollDepth:n,scrollTop:t}}function Po(t,e=Lo){return new F(r=>{function n(){r.notify(Do())}if(window.ResizeObserver){const a=ye(n,e,{leading:!1,trailing:!0}),i=document.scrollingElement||document.documentElement,s=new ResizeObserver(S(a.throttled));i&&s.observe(i);const o=V(t,window,"scroll",a.throttled,{passive:!0});return()=>{a.cancel(),s.disconnect(),o.stop()}}})}function Vo(t,e,r,n,a,i,s){const o={},{stop:c,setLoadEvent:u}=ko(t,e,r,n,i,s,h=>{o.loadingTime=h,a()}),{stop:f}=Mo(n,s,h=>{o.scroll=h}),{stop:d}=go(n,s.relative,h=>{o.cumulativeLayoutShift=h,a()}),{stop:l,getInteractionToNextPaint:p,setViewEnd:m}=Ao(n,s.relative,i);return{stop:()=>{c(),d(),f()},stopINPTracking:l,setLoadEvent:u,setViewEnd:m,getCommonViewMetrics:()=>(o.interactionToNextPaint=p(),o)}}function Uo(t,e){const{stop:r}=V(t,window,"pageshow",n=>{n.persisted&&e(n)},{capture:!0});return r}function Fo(t,e,r){io(t.relative,n=>{e.firstContentfulPaint=n,e.largestContentfulPaint={value:n},r()})}const zo=3e3,Bo=5*st,Go=5*st;function Ho(t,e,r,n,a,i,s,o){const c=new Set;let u=l(j.INITIAL_LOAD,jn(),o),f;p();let d;s&&(d=m(i),a.trackBfcacheViews&&(f=Uo(a,h=>{u.end();const g=zt(h.timeStamp);u=l(j.BF_CACHE,g,void 0)})));function l(h,g,T){const N=Wo(e,r,n,a,t,h,g,T);return c.add(N),N.stopObservable.subscribe(()=>{c.delete(N)}),N}function p(){e.subscribe(10,()=>{u=l(j.ROUTE_CHANGE,void 0,{name:u.name,service:u.service,version:u.version,context:u.contextManager.getContext()})}),e.subscribe(9,()=>{u.end({sessionIsActive:!1})})}function m(h){return h.subscribe(({oldLocation:g,newLocation:T})=>{$o(g,T)&&(u.end(),u=l(j.ROUTE_CHANGE))})}return{addTiming:(h,g=G())=>{u.addTiming(h,g)},startView:(h,g)=>{u.end({endClocks:g}),u=l(j.ROUTE_CHANGE,g,h)},setViewContext:h=>{u.contextManager.setContext(h)},setViewContextProperty:(h,g)=>{u.contextManager.setContextProperty(h,g)},setViewName:h=>{u.setViewName(h)},getViewContext:()=>u.contextManager.getContext(),stop:()=>{d&&d.unsubscribe(),f&&f(),u.end(),c.forEach(h=>h.stop())}}}function Wo(t,e,r,n,a,i,s=Y(),o){const c=et(),u=new F,f={};let d=0,l;const p=Mt(a),m=ma();let h=!0,g=o==null?void 0:o.name;const T=(o==null?void 0:o.service)||n.service,N=(o==null?void 0:o.version)||n.version,H=o==null?void 0:o.context;H&&m.setContext(H);const _={id:c,name:g,startClocks:s,service:T,version:N,context:H};t.notify(1,_),t.notify(2,_);const{throttled:E,cancel:w}=ye(J,zo,{leading:!1}),{setLoadEvent:R,setViewEnd:pt,stop:$t,stopINPTracking:Tt,getCommonViewMetrics:At}=Vo(t,e,r,n,Q,i,s),{stop:qt,initialViewMetrics:It}=i===j.INITIAL_LOAD?mo(n,s,R,Q):{stop:A,initialViewMetrics:{}};i===j.BF_CACHE&&Fo(s,It,Q);const{stop:jt,eventCounts:Xt}=ro(t,c,Q),Yt=Ee(J,Bo),Zt=t.subscribe(11,z=>{z.reason===Ir.UNLOADING&&J()});J(),m.changeObservable.subscribe(Q);function Ct(){t.notify(3,{id:c,name:g,context:m.getContext(),startClocks:s,sessionIsActive:h})}function Q(){Ct(),E()}function J(){w(),Ct(),d+=1;const z=l===void 0?G():l.timeStamp;t.notify(4,{customTimings:f,documentVersion:d,id:c,name:g,service:T,version:N,context:m.getContext(),loadingType:i,location:p,startClocks:s,commonViewMetrics:At(),initialViewMetrics:It,duration:M(s.timeStamp,z),isActive:l===void 0,sessionIsActive:h,eventCounts:Xt})}return{get name(){return g},service:T,version:N,contextManager:m,stopObservable:u,end(z={}){var q,rt;l||(l=(q=z.endClocks)!==null&&q!==void 0?q:Y(),h=(rt=z.sessionIsActive)!==null&&rt!==void 0?rt:!0,t.notify(5,{endClocks:l}),t.notify(6,{endClocks:l}),vr(Yt),pt(l.relative),$t(),Zt.unsubscribe(),J(),tt(()=>{this.stop()},Go))},stop(){qt(),jt(),Tt(),u.notify()},addTiming(z,q){if(l)return;const rt=Xn(q)?q:M(s.timeStamp,q);f[Ko(z)]=rt,Q()},setViewName(z){g=z,J()}}}function Ko(t){const e=t.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return e!==t&&C.warn(`Invalid timing name: ${t}, sanitized to: ${e}`),e}function $o(t,e){return t.pathname!==e.pathname||!qo(e.hash)&&er(e.hash)!==er(t.hash)}function qo(t){const e=t.substring(1);return e!==""&&!!document.getElementById(e)}function er(t){const e=t.indexOf("?");return e<0?t:t.slice(0,e)}function jo(t,e,r,n,a,i,s,o,c,u){return t.subscribe(4,f=>t.notify(12,Xo(f,r,o))),e.register(0,({startTime:f,eventType:d})=>{const l=c.findView(f);return l?{type:d,service:l.service,version:l.version,context:l.context,view:{id:l.id,name:l.name}}:wt}),e.register(1,({startTime:f})=>{var d;return{view:{id:(d=c.findView(f))===null||d===void 0?void 0:d.id}}}),Ho(n,t,a,i,r,s,!r.trackViewsManually,u)}function Xo(t,e,r){var n,a,i,s,o,c,u,f,d,l,p,m,h,g,T,N,H,_;const E=r.getReplayStats(t.id),w=(a=(n=t.commonViewMetrics)===null||n===void 0?void 0:n.cumulativeLayoutShift)===null||a===void 0?void 0:a.devicePixelRatio,R={_dd:{document_version:t.documentVersion,replay_stats:E,cls:w?{device_pixel_ratio:w}:void 0,configuration:{start_session_replay_recording_manually:e.startSessionReplayRecordingManually}},date:t.startClocks.timeStamp,type:b.VIEW,view:{action:{count:t.eventCounts.actionCount},frustration:{count:t.eventCounts.frustrationCount},cumulative_layout_shift:(i=t.commonViewMetrics.cumulativeLayoutShift)===null||i===void 0?void 0:i.value,cumulative_layout_shift_time:v((s=t.commonViewMetrics.cumulativeLayoutShift)===null||s===void 0?void 0:s.time),cumulative_layout_shift_target_selector:(o=t.commonViewMetrics.cumulativeLayoutShift)===null||o===void 0?void 0:o.targetSelector,first_byte:v((c=t.initialViewMetrics.navigationTimings)===null||c===void 0?void 0:c.firstByte),dom_complete:v((u=t.initialViewMetrics.navigationTimings)===null||u===void 0?void 0:u.domComplete),dom_content_loaded:v((f=t.initialViewMetrics.navigationTimings)===null||f===void 0?void 0:f.domContentLoaded),dom_interactive:v((d=t.initialViewMetrics.navigationTimings)===null||d===void 0?void 0:d.domInteractive),error:{count:t.eventCounts.errorCount},first_contentful_paint:v(t.initialViewMetrics.firstContentfulPaint),first_input_delay:v((l=t.initialViewMetrics.firstInput)===null||l===void 0?void 0:l.delay),first_input_time:v((p=t.initialViewMetrics.firstInput)===null||p===void 0?void 0:p.time),first_input_target_selector:(m=t.initialViewMetrics.firstInput)===null||m===void 0?void 0:m.targetSelector,interaction_to_next_paint:v((h=t.commonViewMetrics.interactionToNextPaint)===null||h===void 0?void 0:h.value),interaction_to_next_paint_time:v((g=t.commonViewMetrics.interactionToNextPaint)===null||g===void 0?void 0:g.time),interaction_to_next_paint_target_selector:(T=t.commonViewMetrics.interactionToNextPaint)===null||T===void 0?void 0:T.targetSelector,is_active:t.isActive,name:t.name,largest_contentful_paint:v((N=t.initialViewMetrics.largestContentfulPaint)===null||N===void 0?void 0:N.value),largest_contentful_paint_target_selector:(H=t.initialViewMetrics.largestContentfulPaint)===null||H===void 0?void 0:H.targetSelector,load_event:v((_=t.initialViewMetrics.navigationTimings)===null||_===void 0?void 0:_.loadEvent),loading_time:zr(v(t.commonViewMetrics.loadingTime)),loading_type:t.loadingType,long_task:{count:t.eventCounts.longTaskCount},performance:Yo(t.commonViewMetrics,t.initialViewMetrics),resource:{count:t.eventCounts.resourceCount},time_spent:v(t.duration)},display:t.commonViewMetrics.scroll?{scroll:{max_depth:t.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:t.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:t.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:v(t.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,privacy:{replay_level:e.defaultPrivacyLevel},device:{locale:navigator.language,locales:navigator.languages,time_zone:za()}};return we(t.customTimings)||(R.view.custom_timings=mr(t.customTimings,v)),{rawRumEvent:R,startTime:t.startClocks.relative,duration:t.duration,domainContext:{location:t.location}}}function Yo({cumulativeLayoutShift:t,interactionToNextPaint:e},{firstContentfulPaint:r,firstInput:n,largestContentfulPaint:a}){return{cls:t&&{score:t.value,timestamp:v(t.time),target_selector:t.targetSelector,previous_rect:t.previousRect,current_rect:t.currentRect},fcp:r&&{timestamp:v(r)},fid:n&&{duration:v(n.delay),timestamp:v(n.time),target_selector:n.targetSelector},inp:e&&{duration:v(e.value),timestamp:v(e.time),target_selector:e.targetSelector},lcp:a&&{timestamp:v(a.value),target_selector:a.targetSelector,resource_url:a.resourceUrl}}}const Zo="rum";function Qo(t,e,r){const n=_a(t,Zo,a=>tc(t,a),r);return n.expireObservable.subscribe(()=>{e.notify(9)}),n.renewObservable.subscribe(()=>{e.notify(10)}),n.sessionStateUpdateObservable.subscribe(({previousState:a,newState:i})=>{if(!a.forcedReplay&&i.forcedReplay){const s=n.findSession();s&&(s.isReplayForced=!0)}}),{findTrackedSession:a=>{const i=n.findSession(a);if(!(!i||i.trackingType==="0"))return{id:i.id,sessionReplay:i.trackingType==="1"?1:i.isReplayForced?2:0,anonymousId:i.anonymousId}},expire:n.expire,expireObservable:n.expireObservable,setForcedReplay:()=>n.updateSessionState({forcedReplay:"1"})}}function Jo(){const t={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplay:Cr("records")?1:0};return{findTrackedSession:()=>t,expire:A,expireObservable:new F,setForcedReplay:A}}function tc(t,e){return ec(e)?e:ue(t.sessionSampleRate)?ue(t.sessionReplaySampleRate)?"1":"2":"0"}function ec(t){return t==="0"||t==="1"||t==="2"}function rc(t,e,r,n,a,i){const s=[t.rumEndpointBuilder];t.replica&&s.push(t.replica.rumEndpointBuilder);const o=ga({encoder:i(2),request:va(s,r),flushController:ba({pageMayExitObservable:n,sessionExpireObservable:a})});return e.subscribe(13,c=>{c.type===b.VIEW?o.upsert(c,c.view.id):o.add(c)}),o}function nc(t){const e=Sr();t.subscribe(13,r=>{e.send("rum",r)})}const ac=Ut;function ic(t,e,r,n){const a=Et({expireDelay:ac});let i;t.subscribe(1,({startClocks:c})=>{const u=n.href;a.add(o({url:u,referrer:i||document.referrer}),c.relative),i=u}),t.subscribe(6,({endClocks:c})=>{a.closeActive(c.relative)});const s=r.subscribe(({newLocation:c})=>{const u=a.find();if(u){const f=it();a.closeActive(f),a.add(o({url:c.href,referrer:u.referrer}),f)}});function o({url:c,referrer:u}){return{url:c,referrer:u}}return e.register(0,({startTime:c,eventType:u})=>{const f=a.find(c);return f?{type:u,view:{url:f.url,referrer:f.referrer}}:wt}),{findUrl:c=>a.find(c),stop:()=>{s.unsubscribe(),a.stop()}}}function sc(t,e){let r=Mt(e);return new F(n=>{const{stop:a}=oc(t,s),{stop:i}=cc(t,s);function s(){if(r.href===e.href)return;const o=Mt(e);n.notify({newLocation:o,oldLocation:r}),r=o}return()=>{a(),i()}})}function oc(t,e){const{stop:r}=fe(rr("pushState"),"pushState",({onPostCall:i})=>{i(e)}),{stop:n}=fe(rr("replaceState"),"replaceState",({onPostCall:i})=>{i(e)}),{stop:a}=V(t,window,"popstate",e);return{stop:()=>{r(),n(),a()}}}function cc(t,e){return V(t,window,"hashchange",e)}function rr(t){return Object.prototype.hasOwnProperty.call(history,t)?history:History.prototype}const uc=Ut;function lc(t,e,r){const n=Et({expireDelay:uc});return t.subscribe(1,({startClocks:a})=>{n.add({},a.relative)}),t.subscribe(6,({endClocks:a})=>{n.closeActive(a.relative)}),e.register(0,({startTime:a,eventType:i})=>{if(!r.trackFeatureFlagsForEvents.concat([b.VIEW,b.ERROR]).includes(i))return K;const o=n.find(a);return!o||we(o)?K:{type:i,feature_flags:o}}),{addFeatureFlagEvaluation:(a,i)=>{const s=n.find();s&&(s[a]=i)}}}const dc=10*$;let dt,xt;function fc(t,e,r){t.metricsEnabled&&(fn(),xt=!1,e.subscribe(13,()=>{xt=!0}),r.subscribe(({bytesCount:n,messagesCount:a})=>{xt&&(xt=!1,dt.batchCount+=1,ar(dt.batchBytesCount,n),ar(dt.batchMessagesCount,a))}),Ee(pc,dc))}function pc(){dt.batchCount!==0&&(Bt("Customer data measures",dt),fn())}function nr(){return{min:1/0,max:0,sum:0}}function ar(t,e){t.sum+=e,t.min=Math.min(t.min,e),t.max=Math.max(t.max,e)}function fn(){dt={batchCount:0,batchBytesCount:nr(),batchMessagesCount:nr()}}const hc=4e3,mc=500,_c=Ut;function gc(t,e,r=mc){const n=Et({expireDelay:_c,maxEntries:hc});let a;ft(I.VISIBILITY_STATE)&&performance.getEntriesByType(I.VISIBILITY_STATE).forEach(u=>{const f=u.name==="hidden"?"hidden":"active";s(f,u.startTime)}),s(pn(),it());const{stop:i}=ve(e,window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],c=>{s(vc(c),c.timeStamp)},{capture:!0});function s(c,u=it()){c!==a&&(a=c,n.closeActive(u),n.add({state:a,startTime:u},u))}function o(c,u,f){return n.findAll(u,f).some(d=>d.state===c)}return t.register(0,({startTime:c,duration:u=0,eventType:f})=>{if(f===b.VIEW){const d=n.findAll(c,u);return{type:f,_dd:{page_states:bc(d,c,r)}}}return f===b.ACTION||f===b.ERROR?{type:f,view:{in_foreground:o("active",c,0)}}:K}),{wasInPageStateDuringPeriod:o,addPageState:s,stop:()=>{i(),n.stop()}}}function bc(t,e,r){if(t.length!==0)return t.slice(-r).reverse().map(({state:n,startTime:a})=>({state:n,start:v(M(e,a))}))}function vc(t){return t.type==="freeze"?"frozen":t.type==="pagehide"?t.persisted?"frozen":"terminated":pn()}function pn(){return document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}function yc(t,e){let r;const n=requestAnimationFrame(S(()=>{r=Ie()})),a=No(e).subscribe(i=>{r=i}).unsubscribe;return t.register(0,({eventType:i})=>({type:i,display:r?{viewport:r}:void 0})),{stop:()=>{a(),n&&cancelAnimationFrame(n)}}}function Ec(t,e){const r=window.cookieStore?wc(t):Tc;return new F(n=>r(e,a=>n.notify(a)))}function wc(t){return(e,r)=>V(t,window.cookieStore,"change",a=>{const i=a.changed.find(s=>s.name===e)||a.deleted.find(s=>s.name===e);i&&r(i.value)}).stop}const Sc=$;function Tc(t,e){const r=Pt(document.cookie,t),n=Ee(()=>{const a=Pt(document.cookie,t);a!==r&&e(a)},Sc);return()=>{vr(n)}}const ir="datadog-ci-visibility-test-execution-id";function Ac(t,e,r=Ec(t,ir)){var n;let a=Yn(ir)||((n=window.Cypress)===null||n===void 0?void 0:n.env("traceId"));const i=r.subscribe(s=>{a=s});return e.register(0,({eventType:s})=>typeof a!="string"?K:{type:s,session:{type:"ci_test"},ci_test:{test_execution_id:a}}),{stop:()=>{i.unsubscribe()}}}function Ic(t,e){const r=W(e,{type:I.LONG_ANIMATION_FRAME,buffered:!0}).subscribe(n=>{for(const a of n){const i=zt(a.startTime),s={date:i.timeStamp,long_task:{id:et(),entry_type:dr.LONG_ANIMATION_FRAME,duration:v(a.duration),blocking_duration:v(a.blockingDuration),first_ui_event_timestamp:v(a.firstUIEventTimestamp),render_start:v(a.renderStart),style_and_layout_start:v(a.styleAndLayoutStart),start_time:v(a.startTime),scripts:a.scripts.map(o=>({duration:v(o.duration),pause_duration:v(o.pauseDuration),forced_style_and_layout_duration:v(o.forcedStyleAndLayoutDuration),start_time:v(o.startTime),execution_start:v(o.executionStart),source_url:o.sourceURL,source_function_name:o.sourceFunctionName,source_char_position:o.sourceCharPosition,invoker:o.invoker,invoker_type:o.invokerType,window_attribution:o.windowAttribution}))},type:b.LONG_TASK,_dd:{discarded:!1}};t.notify(12,{rawRumEvent:s,startTime:i.relative,duration:a.duration,domainContext:{performanceEntry:a}})}});return{stop:()=>r.unsubscribe()}}function Cc(t,e){const r=W(e,{type:I.LONG_TASK,buffered:!0}).subscribe(n=>{for(const a of n){if(a.entryType!==I.LONG_TASK||!e.trackLongTasks)break;const i=zt(a.startTime),s={date:i.timeStamp,long_task:{id:et(),entry_type:dr.LONG_TASK,duration:v(a.duration)},type:b.LONG_TASK,_dd:{discarded:!1}};t.notify(12,{rawRumEvent:s,startTime:i.relative,duration:a.duration,domainContext:{performanceEntry:a}})}});return{stop(){r.unsubscribe()}}}function Rc(t){t.register(0,({eventType:e})=>{if(!ya())return K;const r=Ea(),n=wa();return{type:e,session:{type:"synthetics"},synthetics:{test_id:r,result_id:n,injected:Er()}}})}function kc(t,e,r){const n=Ar(t),a=r(n);return hr(e).forEach(([i,s])=>me(t,n,i.split(/\.|(?=\[\])/),s)),a}function me(t,e,r,n){const[a,...i]=r;if(a==="[]"){Array.isArray(t)&&Array.isArray(e)&&t.forEach((s,o)=>me(s,e[o],i,n));return}if(!(!sr(t)||!sr(e))){if(i.length>0)return me(t[a],e[a],i,n);xc(t,a,e[a],n)}}function xc(t,e,r,n){const a=Vt(r);a===n?t[e]=x(r):n==="object"&&(a==="undefined"||a==="null")&&(t[e]={})}function sr(t){return Vt(t)==="object"}const ct={"view.name":"string","view.url":"string","view.referrer":"string"},ut={context:"object"},lt={service:"string",version:"string"};let hn;function Nc(t,e,r,n,a){hn={[b.VIEW]:{"view.performance.lcp.resource_url":"string",...ut,...ct,...lt},[b.ERROR]:{"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string",...ut,...ct,...lt},[b.RESOURCE]:{"resource.url":"string","resource.graphql.variables":"string",...ut,...ct,...lt},[b.ACTION]:{"action.target.name":"string",...ut,...ct,...lt},[b.LONG_TASK]:{"long_task.scripts[].source_url":"string","long_task.scripts[].invoker":"string",...ut,...ct,...lt},[b.VITAL]:{...ut,...ct,...lt}};const i={[b.ERROR]:te(b.ERROR,n,a),[b.ACTION]:te(b.ACTION,n,a),[b.VITAL]:te(b.VITAL,n,a)};e.subscribe(12,({startTime:s,duration:o,rawRumEvent:c,domainContext:u})=>{const f=r.triggerHook(0,{eventType:c.type,startTime:s,duration:o});if(f===wt)return;const d=yt(f,c,{ddtags:Sa(t).join(",")});Oc(d,t.beforeSend,u,i)&&(we(d.context)&&delete d.context,e.notify(13,d))})}function Oc(t,e,r,n){var a;if(e){const s=kc(t,hn[t.type],o=>e(o,r));if(s===!1&&t.type!==b.VIEW)return!1;s===!1&&C.warn("Can't dismiss view events using beforeSend!")}return!((a=n[t.type])===null||a===void 0?void 0:a.isLimitReached())}function Lc(t,e,r,n){t.register(0,({eventType:a,startTime:i})=>{const s=e.findTrackedSession(i),o=n.findView(i);if(!s||!o)return wt;let c,u,f;return a===b.VIEW?(c=r.getReplayStats(o.id)?!0:void 0,u=s.sessionReplay===1,f=o.sessionIsActive?void 0:!1):c=r.isRecording()?!0:void 0,{type:a,session:{id:s.id,type:"user",has_replay:c,sampled_for_replay:u,is_active:f}}}),t.register(1,({startTime:a})=>{const i=e.findTrackedSession(a);return i?{session:{id:i.id}}:K})}function Mc(t){t.register(0,({eventType:e})=>({type:e,connectivity:Ta()}))}function Dc(t,e,r){t.register(0,({eventType:n})=>{const a=e.source;return{type:n,_dd:{format_version:2,drift:Zn(),configuration:{session_sample_rate:Nt(e.sessionSampleRate,3),session_replay_sample_rate:Nt(e.sessionReplaySampleRate,3),profiling_sample_rate:Nt(e.profilingSampleRate,3),beta_encode_cookie_options:e.betaEncodeCookieOptions},browser_sdk_version:vt()?"6.24.1":void 0,sdk_name:r},application:{id:e.applicationId},date:G(),source:a}}),t.register(1,()=>({application:{id:e.applicationId}}))}function Pc(t,e){t.register(1,()=>e.isGranted()?K:wt)}const Vc=Aa,Uc=[b.ACTION,b.ERROR,b.LONG_TASK,b.RESOURCE,b.VITAL];function Fc(t){return{addEvent:(e,r,n,a)=>{Uc.includes(r.type)&&t.notify(12,{startTime:e,rawRumEvent:r,domainContext:n,duration:a})}}}function zc(t,e){if(!e.metricsEnabled)return{stop:A};const{unsubscribe:r}=t.subscribe(4,({initialViewMetrics:n})=>{!n.largestContentfulPaint||!n.navigationTimings||(Bt("Initial view metrics",{metrics:Bc(n.largestContentfulPaint,n.navigationTimings)}),r())});return{stop:r}}function Bc(t,e){return{lcp:{value:t.value},navigation:{domComplete:e.domComplete,domContentLoaded:e.domContentLoaded,domInteractive:e.domInteractive,firstByte:e.firstByte,loadEvent:e.loadEvent}}}function Gc(t,e,r,n,a,i,s,o,c){const u=[],f=new Li,d=Vc();f.subscribe(13,U=>Ia("rum",U));const l=U=>{f.notify(14,{error:U}),Se("Error reported to customer",{"error.message":U.message})},p=Ca(t),m=p.subscribe(U=>{f.notify(11,U)});u.push(()=>m.unsubscribe());const h=Ra("browser-rum-sdk",t,d,l,p,a);u.push(h.stop);const g=vt()?Jo():Qo(t,f,i);if(vt())nc(f);else{const U=rc(t,f,l,p,g.expireObservable,a);u.push(()=>U.stop()),fc(h,f,U.flushController.flushObservable)}const T=ki(),N=sc(t,location),{observable:H,stop:_}=Ni();u.push(_),Dc(d,t,c);const E=gc(d,t),w=Di(f);u.push(()=>w.stop());const R=ic(f,d,N,location);u.push(()=>R.stop());const pt=lc(f,d,t);Lc(d,g,e,w),Mc(d),Pc(d,i);const $t=ka(d,t,"rum",!0),Tt=xa(d,t,g,"rum"),At=Na(d,t,"rum"),{actionContexts:qt,addAction:It,addEvent:jt,stop:Xt}=Hc(f,d,t,E,T,H,l);u.push(Xt);const{addTiming:Yt,startView:Zt,setViewName:Ct,setViewContext:Q,setViewContextProperty:J,getViewContext:z,stop:q}=jo(f,d,t,location,T,H,N,e,w,n);u.push(q);const{stop:rt}=zc(f,h);u.push(rt);const{stop:yn}=qs(f,t,E);if(u.push(yn),t.trackLongTasks)if(ft(I.LONG_ANIMATION_FRAME)){const{stop:U}=Ic(f,t);u.push(U)}else Cc(f,t);const{addError:En}=Ls(f,t,o);o.unbuffer(),Bi(f,t,g,Tt,At);const Rt=Ga(f,E,s),wn=Oi(t.applicationId,g,w,qt,R);return u.push(()=>r.stop()),{addAction:It,addEvent:jt,addError:En,addTiming:Yt,addFeatureFlagEvaluation:pt.addFeatureFlagEvaluation,startView:Zt,setViewContext:Q,setViewContextProperty:J,getViewContext:z,setViewName:Ct,lifeCycle:f,viewHistory:w,session:g,stopSession:()=>g.expire(),getInternalContext:wn.get,startDurationVital:Rt.startDurationVital,stopDurationVital:Rt.stopDurationVital,addDurationVital:Rt.addDurationVital,addOperationStepVital:Rt.addOperationStepVital,globalContext:$t,userContext:Tt,accountContext:At,telemetry:h,stop:()=>{u.forEach(U=>U())},hooks:d}}function Hc(t,e,r,n,a,i,s){const o=xs(t,e,a,i,r),c=Fc(t),u=yc(e,r),f=Ac(r,e);return Rc(e),Nc(r,t,e,s),{pageStateHistory:n,addAction:o.addAction,addEvent:c.addEvent,actionContexts:o.actionContexts,stop:()=>{o.stop(),f.stop(),u.stop(),n.stop()}}}function Wc(t,{session:e,viewContext:r,errorType:n}){const a=e?e.id:"no-session-id",i=[];n!==void 0&&i.push(`error-type=${n}`),r&&(i.push(`seed=${r.id}`),i.push(`from=${r.startClocks.timeStamp}`));const s=Kc(t),o=`/rum/replay/sessions/${a}`;return`${s}${o}?${i.join("&")}`}function Kc(t){const e=t.site,r=t.subdomain||$c(t);return`https://${r?`${r}.`:""}${e}`}function $c(t){switch(t.site){case ta:case Jn:return"app";case Qn:return"dd";default:return}}const qc=1e3;let B;function Ru(t){return Kt(t).segments_count}function ku(t){Kt(t).segments_count+=1}function xu(t){Kt(t).records_count+=1}function Nu(t,e){Kt(t).segments_total_raw_size+=e}function jc(t){return B==null?void 0:B.get(t)}function Kt(t){B||(B=new Map);let e;return B.has(t)?e=B.get(t):(e={records_count:0,segments_count:0,segments_total_raw_size:0},B.set(t,e),B.size>qc&&Xc()),e}function Xc(){if(!B)return;const t=B.keys().next().value;t&&B.delete(t)}function mn(t,e,r){let n=0,a=[],i,s=!0,o=0;const c=[],{stop:u}=V(t,e,"message",({data:l})=>{if(l.type!=="wrote"||l.streamId!==r)return;const p=c[0];p&&(p.id===l.id?(c.shift(),n+=l.additionalBytesCount,a.push(l.result),i=l.trailer,p.writeCallback?p.writeCallback(l.result.byteLength):p.finishCallback&&p.finishCallback()):p.id<l.id&&u())});function f(){const l=a.length===0?new Uint8Array(0):ea(a.concat(i)),p={rawBytesCount:n,output:l,outputBytesCount:l.byteLength,encoding:"deflate"};return n=0,a=[],p}function d(){s||(e.postMessage({action:"reset",streamId:r}),s=!0)}return{isAsync:!0,get isEmpty(){return s},write(l,p){e.postMessage({action:"write",id:o,data:l,streamId:r}),c.push({id:o,writeCallback:p,data:l}),s=!1,o+=1},finish(l){d(),c.length?(c.forEach(p=>{delete p.writeCallback}),c[c.length-1].finishCallback=()=>l(f())):l(f())},finishSync(){d();const l=c.map(p=>p.data).join("");return c.length=0,{...f(),pendingData:l}},estimateEncodedBytesCount(l){return l.length/8},stop(){u()}}}function Ce({configuredUrl:t,error:e,source:r,scriptType:n}){if(C.error(`${r} failed to start: an error occurred while initializing the ${n}:`,e),e instanceof Event||e instanceof Error&&Yc(e.message)){let a;t?a=`Please make sure the ${n} URL ${t} is correct and CSP is correctly configured.`:a="Please make sure CSP is correctly configured.",C.error(`${a} See documentation at ${ra}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`)}else n==="worker"&&Rr(e)}function Yc(t){return t.includes("Content Security Policy")||t.includes("requires 'TrustedScriptURL'")}const Zc=30*$;function _n(t){return new Worker(t.workerUrl||URL.createObjectURL(new Blob(['(()=>{function t(t){if(1===t.length)return t[0];const e=t.reduce((t,e)=>t+e.length,0),a=new Uint8Array(e);let n=0;for(const e of t)a.set(e,n),n+=e.length;return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=Array(576);e(s);var h=Array(60);e(h);var l=Array(512);e(l);var _=Array(256);e(_);var o=Array(29);e(o);var d,u,f,c=Array(30);function p(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function g(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(c);var v=function(t){return t<256?l[t]:l[256+(t>>>7)]},w=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},m=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},b=function(t,e,a){m(t,a[2*e],a[2*e+1])},y=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},z=function(t,e,a){var n,r,i=Array(16),s=0;for(n=1;n<=15;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=y(i[h]++,h))}},k=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},x=function(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},A=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},U=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},B=function(t,e,r){var i,s,h,l,d=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],s=t.pending_buf[t.l_buf+d],d++,0===i?b(t,s,e):(h=_[s],b(t,h+256+1,e),0!==(l=a[h])&&(s-=o[h],m(t,s,l)),i--,h=v(i),b(t,h,r),0!==(l=n[h])&&(i-=c[h],m(t,i,l)))}while(d<t.last_lit);b(t,256,e)},I=function(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,_=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=_=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=_<2?++_:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=_,a=t.heap_len>>1;a>=1;a--)U(t,i,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,U(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,_=e.max_code,o=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)>c&&(i=c,p++),l[2*n+1]=i,n>_||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(o[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--a])>_||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),z(i,_,t.bl_count)},E=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},C=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{b(t,r,t.bl_tree)}while(0!==--h);else 0!==r?(r!==i&&(b(t,r,t.bl_tree),h--),b(t,16,t.bl_tree),m(t,h-3,2)):h<=10?(b(t,17,t.bl_tree),m(t,h-3,3)):(b(t,18,t.bl_tree),m(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},D=!1,M=function(t,e,a,n){m(t,0+(n?1:0),3),function(t,e,a){x(t),w(t,a),w(t,~a),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a)},j=M,L=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},S=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),T=function(t,e,a,n){var r=S,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return-1^t},O={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q=j,F=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(_[a]+256+1)]++,t.dyn_dtree[2*v(e)]++),t.last_lit===t.lit_bufsize-1},G=-2,H=258,J=262,K=103,N=113,P=666,Q=function(t,e){return t.msg=O[e],e},R=function(t){return(t<<1)-(t>4?9:0)},V=function(t){for(var e=t.length;--e>=0;)t[e]=0},W=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},X=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Y=function(t,e){(function(t,e,a,n){var r,l,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),_=function(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*i[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=r&&(r=l)):r=l=a+5,a+4<=r&&-1!==e?M(t,e,a,n):4===t.strategy||l===r?(m(t,2+(n?1:0),3),B(t,s,h)):(m(t,4+(n?1:0),3),function(t,e,a,n){var r;for(m(t,e-257,5),m(t,a-1,5),m(t,n-4,4),r=0;r<n;r++)m(t,t.bl_tree[2*i[r]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),B(t,t.dyn_ltree,t.dyn_dtree)),k(t),n&&x(t)})(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,X(t.strm)},Z=function(t,e){t.pending_buf[t.pending++]=e},$=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},tt=function(t,e,a,n){var r=t.avail_in;return r>n&&(r=n),0===r?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),a),1===t.state.wrap?t.adler=L(t.adler,e,r,a):2===t.state.wrap&&(t.adler=T(t.adler,e,r,a)),t.next_in+=r,t.total_in+=r,r)},et=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+H,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=H-(u-i),i=u-H,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!==--r);return s<=t.lookahead?s:t.lookahead},at=function(t){var e,a,n,r,i,s=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-J)){t.window.set(t.window.subarray(s,s+s),0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=s?n-s:0}while(--a);e=a=s;do{n=t.prev[--e],t.prev[e]=n>=s?n-s:0}while(--a);r+=s}if(0===t.strm.avail_in)break;if(a=tt(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=W(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=W(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<J&&0!==t.strm.avail_in)},nt=function(t,e){for(var a,n;;){if(t.lookahead<J){if(at(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-J&&(t.match_length=et(t,a)),t.match_length>=3)if(n=F(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=W(t,t.ins_h,t.window[t.strstart+1]);else n=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2},rt=function(t,e){for(var a,n,r;;){if(t.lookahead<J){if(at(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-J&&(t.match_length=et(t,a),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=F(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=F(t,0,t.window[t.strstart-1]))&&Y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=F(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2};function it(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var st=[new it(0,0,0,0,function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(at(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-J&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Y(t,!1),t.strm.avail_out),1)}),new it(4,4,8,4,nt),new it(4,5,16,8,nt),new it(4,6,32,32,nt),new it(4,4,16,16,rt),new it(8,16,32,32,rt),new it(8,16,128,128,rt),new it(8,32,128,256,rt),new it(32,128,258,1024,rt),new it(32,258,258,4096,rt)];function ht(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}for(var lt=function(t){var e,i=function(t){if(!t||!t.state)return Q(t,G);t.total_in=t.total_out=0,t.data_type=2;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:N,t.adler=2===e.wrap?0:1,e.last_flush=0,function(t){D||(function(){var t,e,i,g,v,w=Array(16);for(i=0,g=0;g<28;g++)for(o[g]=i,t=0;t<1<<a[g];t++)_[i++]=g;for(_[i-1]=g,v=0,g=0;g<16;g++)for(c[g]=v,t=0;t<1<<n[g];t++)l[v++]=g;for(v>>=7;g<30;g++)for(c[g]=v<<7,t=0;t<1<<n[g]-7;t++)l[256+v++]=g;for(e=0;e<=15;e++)w[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,w[8]++;for(;t<=255;)s[2*t+1]=9,t++,w[9]++;for(;t<=279;)s[2*t+1]=7,t++,w[7]++;for(;t<=287;)s[2*t+1]=8,t++,w[8]++;for(z(s,287,w),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=y(t,5);d=new p(s,a,257,286,15),u=new p(h,n,0,30,15),f=new p([],r,0,19,7)}(),D=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,u),t.bl_desc=new g(t.bl_tree,f),t.bi_buf=0,t.bi_valid=0,k(t)}(e),0}(t);return 0===i&&((e=t.state).window_size=2*e.w_size,V(e.head),e.max_lazy_match=st[e.level].max_lazy,e.good_match=st[e.level].good_length,e.nice_match=st[e.level].nice_length,e.max_chain_length=st[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),i},_t=function(t,e){var a,n;if(!t||!t.state||e>5||e<0)return t?Q(t,G):G;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===P&&4!==e)return Q(t,0===t.avail_out?-5:G);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Z(r,31),Z(r,139),Z(r,8),r.gzhead?(Z(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Z(r,255&r.gzhead.time),Z(r,r.gzhead.time>>8&255),Z(r,r.gzhead.time>>16&255),Z(r,r.gzhead.time>>24&255),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Z(r,255&r.gzhead.extra.length),Z(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=T(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,3),r.status=N);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=N,$(r,h),0!==r.strstart&&($(r,t.adler>>>16),$(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending!==r.pending_buf_size));)Z(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=K)}else r.status=K;if(r.status===K&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&X(t),r.pending+2<=r.pending_buf_size&&(Z(r,255&t.adler),Z(r,t.adler>>8&255),t.adler=0,r.status=N)):r.status=N),0!==r.pending){if(X(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&R(e)<=R(i)&&4!==e)return Q(t,-5);if(r.status===P&&0!==t.avail_in)return Q(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&r.status!==P){var l=2===r.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(at(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=H){if(at(t),t.lookahead<=H&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+H;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=H-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=F(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):st[r.level].func(r,e);if(3!==l&&4!==l||(r.status=P),1===l||3===l)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===l&&(1===e?function(t){m(t,2,3),b(t,256,s),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}(r):5!==e&&(q(r,0,0,!1),3===e&&(V(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),X(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(Z(r,255&t.adler),Z(r,t.adler>>8&255),Z(r,t.adler>>16&255),Z(r,t.adler>>24&255),Z(r,255&t.total_in),Z(r,t.total_in>>8&255),Z(r,t.total_in>>16&255),Z(r,t.total_in>>24&255)):($(r,t.adler>>>16),$(r,65535&t.adler)),X(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},ot=function(t){if(!t||!t.state)return G;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==K&&e!==N&&e!==P?Q(t,G):(t.state=null,e===N?Q(t,-3):0)},dt=new Uint8Array(256),ut=0;ut<256;ut++)dt[ut]=ut>=252?6:ut>=248?5:ut>=240?4:ut>=224?3:ut>=192?2:1;dt[254]=dt[254]=1;var ft=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ct=Object.prototype.toString;function pt(){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ft,this.strm.avail_out=0;var e,a,n=function(t,e,a,n,r,i){if(!t)return G;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||8!==a||n<8||n>15||e<0||e>9||i<0||i>4)return Q(t,G);8===n&&(n=9);var h=new ht;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,lt(t)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw Error(O[n]);if(t.header&&(e=this.strm,a=t.header,e&&e.state&&(2!==e.state.wrap||(e.state.gzhead=a))),t.dictionary){var r;if(r="[object ArrayBuffer]"===ct.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=function(t,e){var a=e.length;if(!t||!t.state)return G;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return G;if(1===r&&(t.adler=L(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(V(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,at(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=W(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,at(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,0}(this.strm,r)))throw Error(O[n]);this._dict_set=!0}}function gt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:e+"",streamId:a})}}function vt(t){const e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}pt.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?4:0,"[object ArrayBuffer]"===ct.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(2===n||3===n)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(1===(a=_t(r,n)))return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=ot(this.strm),this.onEnd(a),this.ended=!0,0===a;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},pt.prototype.onData=function(t){this.chunks.push(t)},pt.prototype.onEnd=function(t){0===t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e=self){try{const a=new Map;e.addEventListener("message",n=>{try{const r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"6.24.1"};case"write":{let n=e.get(a.streamId);n||(n=new pt,e.set(a.streamId,n));const r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,2),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:vt(n),additionalBytesCount:i.length}}case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){gt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}})}catch(t){gt(e,t)}}()})();'])))}let k={status:0};function gn(t,e,r,n=_n){switch(k.status===0&&Qc(t,e,n),k.status){case 1:return k.initializationFailureCallbacks.push(r),k.worker;case 3:return k.worker}}function or(){return k.status}function Qc(t,e,r=_n){try{const n=r(t),{stop:a}=V(t,n,"error",o=>{oe(t,e,o)}),{stop:i}=V(t,n,"message",({data:o})=>{o.type==="errored"?oe(t,e,o.error,o.streamId):o.type==="initialized"&&tu(o.version)});n.postMessage({action:"init"}),tt(()=>Jc(e),Zc),k={status:1,worker:n,stop:()=>{a(),i()},initializationFailureCallbacks:[]}}catch(n){oe(t,e,n)}}function Jc(t){k.status===1&&(C.error(`${t} failed to start: a timeout occurred while initializing the Worker`),k.initializationFailureCallbacks.forEach(e=>e()),k={status:2})}function tu(t){k.status===1&&(k={status:3,worker:k.worker,stop:k.stop,version:t})}function oe(t,e,r,n){k.status===1||k.status===0?(Ce({configuredUrl:t.workerUrl,error:r,source:e,scriptType:"worker"}),k.status===1&&k.initializationFailureCallbacks.forEach(a=>a()),k={status:2}):Rr(r,{worker_version:k.status===3&&k.version,stream_id:n})}function bn(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}function eu(t,e,r,n){const a=e.findTrackedSession(),i=ru(a,n),s=r.findView();return Wc(t,{viewContext:s,errorType:i,session:a})}function ru(t,e){if(!bn())return"browser-not-supported";if(!t)return"rum-not-tracked";if(t.sessionReplay===0)return"incorrect-session-plan";if(!e)return"replay-not-started"}function nu(t,e){if(!t.metricsEnabled)return{stop:A};let r,n,a;const{unsubscribe:i}=e.subscribe(s=>{switch(s.type){case"start":r={forced:s.forced,timestamp:G()},n=void 0,a=void 0;break;case"document-ready":r&&(n=M(r.timestamp,G()));break;case"recorder-settled":r&&(a=M(r.timestamp,G()));break;case"aborted":case"deflate-encoder-load-failed":case"recorder-load-failed":case"succeeded":i(),r&&Bt("Recorder init metrics",{metrics:au(r.forced,a,M(r.timestamp,G()),s.type,n)});break}});return{stop:i}}function au(t,e,r,n,a){return{forced:t,loadRecorderModuleDuration:e,recorderInitDuration:r,result:n,waitForDocReadyDuration:a}}function iu(t,e,r,n,a,i,s){let o=0,c;e.subscribe(9,()=>{(o===2||o===3)&&(l(),o=1)}),e.subscribe(10,()=>{o===1&&d()});const u=new F;nu(s,u);const f=async p=>{u.notify({type:"start",forced:p});const[m]=await Promise.all([cr(u,{type:"recorder-settled"},a()),cr(u,{type:"document-ready"},La(t,"interactive"))]);if(o!==2){u.notify({type:"aborted"});return}if(!m){o=0,u.notify({type:"recorder-load-failed"});return}const h=i();if(!h){o=0,u.notify({type:"deflate-encoder-load-failed"});return}({stop:c}=m(e,t,r,n,h,s)),o=3,u.notify({type:"succeeded"})};function d(p){const m=r.findTrackedSession();if(su(m,p)){o=1;return}if(ou(o))return;o=2;const h=cu(m,p)||!1;f(h).catch(Dt),h&&r.setForcedReplay()}function l(){o===3&&(c==null||c()),o=0}return{start:d,stop:l,getSessionReplayLink(){return eu(t,r,n,o!==0)},isRecording:()=>o===3}}function su(t,e){return!t||t.sessionReplay===0&&(!e||!e.force)}function ou(t){return t===2||t===3}function cu(t,e){return e&&e.force&&t.sessionReplay===0}async function cr(t,e,r){try{return await r}finally{t.notify(e)}}function uu(){let t=0;return{strategy:{start(){t=1},stop(){t=2},isRecording:()=>!1,getSessionReplayLink:A},shouldStartImmediately(e){return t===1||t===0&&!e.startSessionReplayRecordingManually}}}function lu(t,e){if(vt()&&!Cr("records")||!bn())return{start:A,stop:A,getReplayStats:()=>{},onRumStart:A,isRecording:()=>!1,getSessionReplayLink:()=>{}};let{strategy:r,shouldStartImmediately:n}=uu();return{start:i=>r.start(i),stop:()=>r.stop(),getSessionReplayLink:()=>r.getSessionReplayLink(),onRumStart:a,isRecording:()=>or()===3&&r.isRecording(),getReplayStats:i=>or()===3?jc(i):void 0};function a(i,s,o,c,u,f){let d;function l(){return d||(u??(u=gn(s,"Datadog Session Replay",()=>{r.stop()},e)),u&&(d=mn(s,u,1))),d}r=iu(s,i,o,c,t,l,f),n(s)&&r.start()}}async function du(t=fu){try{return await t()}catch(e){Ce({error:e,source:"Recorder",scriptType:"module"})}}async function fu(){return(await kr(()=>import("./startRecording-BA5Wr5EK.js"),__vite__mapDeps([0,1,2,3,4,5]))).startRecording}function pu(){return yr().Profiler!==void 0}const hu=t=>{let e={status:"starting"};return t.register(0,({eventType:r})=>r!==b.VIEW&&r!==b.LONG_TASK?K:{type:r,_dd:{profiling:e}}),{get:()=>e,set:r=>{e=r}}};async function mu(t=_u){try{return await t()}catch(e){Ce({error:e,source:"Profiler",scriptType:"module"})}}async function _u(){return(await kr(()=>import("./profiler-Dhh2qf7-.js"),__vite__mapDeps([6,1,2,3]))).createRumProfiler}function gu(){let t;function e(r,n,a,i,s,o){const c=i.findTrackedSession();if(!c||!Lr(c.id,a.profilingSampleRate))return;const u=hu(n);if(!pu()){u.set({status:"error",error_reason:"not-supported-by-browser"});return}mu().then(f=>{if(!f){Se("[DD_RUM] Failed to lazy load the RUM Profiler"),u.set({status:"error",error_reason:"failed-to-lazy-load"});return}t=f(a,r,i,u,o),t.start(s.findView())}).catch(Dt)}return{onRumStart:e,stop:()=>{t==null||t.stop().catch(Dt)}}}const bu=lu(du),vu=gu(),vn=Ci(Gc,bu,vu,{startDeflateWorker:gn,createDeflateEncoder:mn,sdkName:"rum"});Oa(yr(),"DD_RUM",vn);const Ou=Object.freeze(Object.defineProperty({__proto__:null,DefaultPrivacyLevel:de,datadogRum:vn},Symbol.toStringTag,{value:"Module"}));export{xo as a,Cu as b,No as c,os as d,Iu as e,ss as f,Wt as g,Tu as h,Gr as i,Ki as j,Au as k,Ma as l,xi as m,$i as n,Ie as o,xu as p,Ru as q,is as r,jr as s,ku as t,Nu as u,Ou as v};
//# sourceMappingURL=main-CtGiKbkr.js.map
